<div class="MP--MuiDialogContent-root MP--MP-16486 MP--MP-16491">
  <iframe
    id="MediapoolDownloadCenter_layerContentIframe"
    name="modalIframe"
    src="/MediapoolDownloadMedias.do?downloadMedia(618185).mediaGUID=618185&amp;downloadMedia(618186).mediaGUID=618186&amp;downloadMedia(618187).mediaGUID=618187"
    title="Asset download"
    class="MP--MP-16490"
    frameborder="0"
    style="width: 100%; min-width: 100%; height: auto; min-height: auto"
    ><html class="ext-strict html--in-iframe" id="ext-gen3">
      <head>
        <!-- [[[[[[['extJS_version',3]]]]]]] -->
        <script type="text/javascript">
          /**
           * Window console object fix for IE
           **/
          (function () {
            if (!window.console) {
              window.console = {};
            }
            var m = [
              "log",
              "info",
              "warn",
              "error",
              "debug",
              "trace",
              "dir",
              "group",
              "groupCollapsed",
              "groupEnd",
              "time",
              "timeEnd",
              "profile",
              "profileEnd",
              "dirxml",
              "assert",
              "count",
              "markTimeline",
              "timeStamp",
              "clear",
            ];
            // define undefined methods as noops to prevent errors
            for (var i = 0; i < m.length; i++) {
              if (!window.console[m[i]]) {
                window.console[m[i]] = function () {};
              }
            }
          })();
        </script>

        <link rel="stylesheet" type="text/css" href="/extjs/css/ext-all.css" />
        <link
          rel="stylesheet"
          type="text/css"
          href="/extjs/css/xtheme-gray.css"
        />

        <link
          rel="STYLESHEET"
          type="text/css"
          href="/skinning/template?url=%2Fwro%2Fbm_extjs_lt5_override.css&amp;skin=protech"
        />

        <style type="text/css">
          .x-grid3 .x-window-ml,
          .x-grid3 .x-window-tl,
          .x-grid3 .x-window-bl {
            padding-left: 0;
          }
          .x-grid3 .x-window-mr,
          .x-grid3 .x-window-tr,
          .x-grid3 .x-window-br {
            padding-right: 0;
          }
          .x-grid3 .x-window-tc .x-window-header {
            height: 3px;
            padding: 0;
            overflow: hidden;
          }
          .x-grid3 .x-window-mc {
            border-width: 0;
            background: #cdd9e8;
          }
          .x-grid3 .x-panel-btns {
            padding: 0;
          }
          .x-grid3 .x-panel-btns td.x-toolbar-cell {
            padding: 3px 3px 0;
          }
          .x-box-inner {
            zoom: 1;
          }
        </style>

        <script
          type="text/javascript"
          language="JavaScript"
          src="/js/prototype.js?__ts=2025-09-04 09:00"
        ></script>

        <script
          type="text/javascript"
          language="JavaScript"
          src="/extjs/js/ext-base.js?__ts=2025-09-04 09:00"
        ></script>
        <script
          type="text/javascript"
          language="JavaScript"
          src="/extjs/js/ext-all.js?__ts=2025-09-04 09:00"
        ></script>

        <script
          type="text/javascript"
          language="JavaScript"
          src="/extjs/js/DWRProxy.js?__ts=2025-09-04 09:00"
        ></script>

        <script type="text/javascript">
          Ext.onReady(function () {});
        </script>

        <script type="text/javascript">
          Ext.BLANK_IMAGE_URL = "/extjs/images/gray/s.gif";

          function debug(message, object) {
            if (typeof isDebugEnabled != "undefined") {
              if (isDebugEnabled != true) return;
              if (typeof console != "undefined") {
                if (console) {
                  if (message != null && message != "") console.log(message);
                  if (object != null)
                    if (console.dir) {
                      console.dir(object);
                    } else if (console.debug) {
                      console.debug(object);
                    } else {
                      console.log("%o", object);
                    }
                }
              }
            }
          }

          function log(message) {
            if (typeof isDebugEnabled != "undefined") {
              if (isDebugEnabled != true) return;
              if (typeof console != "undefined") {
                if (console) {
                  console.log(message);
                }
              }
            }
          }

          Ext.override(Ajax.Request, {
            respondToReadyState: function (readyState) {
              if (readyState == undefined) return;

              if (readyState != this.transport.readyState) {
                readyState = this.transport.readyState;
              }

              var state = Ajax.Request.Events[readyState],
                response = new Ajax.Response(this);

              if (state == "Complete") {
                try {
                  this._complete = true;
                  (
                    this.options["on" + response.status] ||
                    this.options[
                      "on" + (this.success() ? "Success" : "Failure")
                    ] ||
                    Prototype.emptyFunction
                  )(response, response.headerJSON);
                } catch (e) {
                  this.dispatchException(e);
                }

                var contentType = response.getHeader("Content-type");
                if (
                  this.options.evalJS == "force" ||
                  (this.options.evalJS &&
                    this.isSameOrigin() &&
                    contentType &&
                    contentType.match(
                      /^\s*(text|application)\/(x-)?(java|ecma)script(;.*)?\s*$/i
                    ))
                )
                  this.evalResponse();
              }

              try {
                (this.options["on" + state] || Prototype.emptyFunction)(
                  response,
                  response.headerJSON
                );
                Ajax.Responders.dispatch(
                  "on" + state,
                  this,
                  response,
                  response.headerJSON
                );
              } catch (e) {
                this.dispatchException(e);
              }

              if (state == "Complete") {
                // avoid memory leak in MSIE: clean up
                this.transport.onreadystatechange = Prototype.emptyFunction;
              }
            },
          });

          Ext.override(Ext.grid.GridView, {
            ensureVisible: function (row, col, hscroll) {
              var resolved = this.resolveCell(row, col, hscroll);
              if (!resolved || !resolved.row) {
                return;
              }
              var rowEl = resolved.row,
                cellEl = resolved.cell,
                c = this.scroller.dom,
                ctop = 0,
                p = rowEl,
                stop = this.el.dom;
              while (p && p != stop) {
                ctop += p.offsetTop;
                p = p.offsetParent;
              }
              ctop -= this.mainHd.dom.offsetHeight;
              stop = parseInt(c.scrollTop, 10);
              var cbot = ctop + rowEl.offsetHeight,
                ch = c.clientHeight,
                sbot = stop + ch;
              if (ctop < stop) {
                c.scrollTop = ctop;
              } else if (cbot > sbot) {
                c.scrollTop = cbot - ch;
              }
              if (hscroll !== false) {
                var cleft = parseInt(cellEl.offsetLeft, 10);
                var cright = cleft + cellEl.offsetWidth;
                var sleft = parseInt(c.scrollLeft, 10);
                var sright = sleft + c.clientWidth;
                if (cleft < sleft) {
                  c.scrollLeft = cleft;
                } else if (cright > sright) {
                  c.scrollLeft = cright - c.clientWidth;
                }
              }
              return this.getResolvedXY(resolved);
            },
          });

          Ext.override(Ext.data.DirectProxy, {
            createCallback: function (action, rs, trans) {
              var me = this;
              return function (result, res) {
                if (!res.status) {
                  // @deprecated fire loadexception
                  if (action === Ext.data.Api.actions.read) {
                    me.fireEvent("loadexception", me, trans, res, null);
                  }
                  me.fireEvent(
                    "exception",
                    me,
                    "remote",
                    action,
                    trans,
                    res,
                    null
                  );
                  trans.request.callback.call(
                    trans.request.scope,
                    null,
                    trans.request.arg,
                    false
                  );
                  return;
                }
                if (action === Ext.data.Api.actions.read) {
                  me.onRead(action, trans, result, res);
                } else {
                  me.onWrite(action, trans, result, res, rs);
                }
              };
            },
          });
          //PORTAL-964 Fix selection of value (Deselection of previously selected values when we call setValue from js). Not needed for 3.4
          Ext.override(Ext.form.RadioGroup, {
            setValueForItem: function (val) {
              val = String(val).split(",");
              this.eachItem(function (item) {
                item.setValue(val == item.inputValue);
              });
            },
          });
          //PORTAL-1035 .Not needed for 3.4
          Ext.override(Ext.form.HtmlEditor, {
            getEditorBody: function () {
              var doc = this.getDoc();
              return doc.body || doc.documentElement;
            },
            onResize: function (w, h) {
              Ext.form.HtmlEditor.superclass.onResize.apply(this, arguments);
              if (this.el && this.iframe) {
                if (Ext.isNumber(w)) {
                  var aw = w - this.wrap.getFrameWidth("lr");
                  this.el.setWidth(aw);
                  this.tb.setWidth(aw);
                  this.iframe.style.width = Math.max(aw, 0) + "px";
                }
                if (Ext.isNumber(h)) {
                  var ah =
                    h - this.wrap.getFrameWidth("tb") - this.tb.el.getHeight();
                  this.el.setHeight(ah);
                  this.iframe.style.height = Math.max(ah, 0) + "px";
                  var bd = this.getEditorBody();
                  if (bd) {
                    bd.style.height =
                      Math.max(ah - this.iframePad * 2, 0) + "px";
                  }
                }
              }
            },
          });
        </script>
        <script
          type="text/javascript"
          language="JavaScript"
          src="/extjs/locale/extjs_localization.jsp?__ts=2025-09-04 09:00"
        ></script>

        <link
          rel="STYLESHEET"
          type="text/css"
          href="/skinning/template?url=%2Fwro%2Fbm_common.css&amp;skin=protech"
        />

        <link
          rel="STYLESHEET"
          type="text/css"
          href="/skinning/template?url=%2Fwro%2Fbm_main.css&amp;skin=protech"
        />

        <link
          rel="stylesheet"
          href="/web/css/fonts.bmtrusted.css?_cache_=_cache_C_trusted"
        />

        <link
          rel="STYLESHEET"
          type="text/css"
          href="/skinning/template?url=%2Fwro%2Fbm_shoppingCart.css&amp;skin=protech"
        />

        <link
          rel="stylesheet"
          type="text/css"
          href="/css/messages.css?_cache_=_cache_R_f4f8a252_0_0"
        />
        <link
          rel="stylesheet"
          type="text/css"
          href="/rest/frontend/extjs/v6/wro/bm_common.css?_cache_=_err_no_custom"
        />

        <link
          rel="STYLESHEET"
          type="text/css"
          href="/css/mpDownloadCenter.css"
        />

        <link
          rel="STYLESHEET"
          type="text/css"
          href="/skinning/file?file=styles%2Fskin.css&amp;skin=protech"
        />
        <link
          rel="icon"
          href="/skinning/file?file=images/favicon&amp;skin=&amp;_cache_=_err_no_custom"
        />

        <script type="text/javascript">
          /* global Ext */
          function isBrowser(bodyClassName) {
            if (typeof bodyClassName === "undefined") {
              return false;
            } else {
              bodyClassName = bodyClassName.toLowerCase();
            }

            if (!bodyClassName.startsWith("bm-")) {
              bodyClassName = "bm-" + bodyClassName;
            }

            return " bm-not_ms bm-not_ie bm-chrome".indexOf(bodyClassName) > -1;
          }

          function isChrome() {
            return isBrowser("chrome");
          }

          function isFF() {
            return isBrowser("ff");
          }

          function isSafari() {
            return isBrowser("safari");
          }

          function isEdge() {
            return isBrowser("edge");
          }

          function isIE() {
            return isBrowser("ie");
          }

          function isMs() {
            return isBrowser("ms");
          }

          Ext.onReady(function () {
            var html = Ext.get(document.documentElement),
              body = Ext.getBody();

            body.addClass(" bm-not_ms bm-not_ie bm-chrome");
            if (window.opener && window.opener !== window) {
              html.addClass("html--in-popup");
            } else if (window.top != window.self) {
              html.addClass("html--in-iframe");
            }
          });
        </script>

        <script
          type="text/javascript"
          src="/resources/localizations-js?group=common&amp;language=en-US&amp;_cache_=_cache_C_1715701979001_0_0"
        ></script>

        <script
          type="text/javascript"
          language="JavaScript"
          src="/rest/frontend/bm/js?__ts=2025-09-04 09:00"
        ></script>

        <script
          type="text/javascript"
          language="JavaScript"
          src="/dwr/engine.js?__ts=2025-09-04 09:00"
        ></script>

        <script>
          Ext.QuickTips.init();
        </script>

        <script src="/resources/localizations-js?group=system&amp;group=common&amp;group=admin&amp;group=mp&amp;group=wp&amp;language=en-US"></script>

        <script
          type="text/javascript"
          language="JavaScript"
          src="/js/quartialManage.jsp"
        ></script>
        <script type="text/javascript">
          var periodMessage = "Quarter";
        </script>

        <script
          type="text/javascript"
          language="JavaScript"
          src="/wro/bm_main.js?__ts=2025-09-04 09:00"
        ></script>
      </head>

      <body
        class="extLayerBodyWithPadding ext-webkit ext-chrome bm-not_ms bm-not_ie bm-chrome iframeBody"
        id="extLayerBody"
      >
        <div
          id="WzTtDiV"
          style="
            visibility: hidden;
            position: absolute;
            overflow: hidden;
            padding: 0px;
            width: 0px;
            left: 0px;
            top: 0px;
          "
        ></div>
        <div id="pageContainer">
          <form
            name="MediapoolDownloadMultipleMediaForm"
            id="MediapoolDownloadForm"
            method="post"
            action="/MediapoolDownloadMedias.do"
            target="actionIframe"
          >
            <h2 class="title">Asset download</h2>

            <!-- COMMON -->

            <script type="text/javascript">
              /*

config =
{
	operationId 		: unique string , used as an attribute name in session
	loadingIndicatorId	: some dom el id which must be displayed when the op starts and be hidden when it ends. If this el. contains img child node -  it will be refreshed
	interval			: check interval in ms
	deleteOnError		: true (default) | false - if the operation is failed, it will be removed from the session
	deleteOnFinish		: true (default) | false - if the operation is finished, it will be removed from the session

	onOperationError(currentInstnace, loadingOperationProperties) = Ext.EmptyFn;
	onOperationFinish(currentInstnace, loadingOperationProperties)  = Ext.EmptyFn;
	onOperationProgressChange(currentInstnace, loadingOperationProperties)  = it returns true status will be checked again until the op is finished
}

*/

              function LoadingOperation(config) {
                /* private */
                var running = true;

                /* public properties */
                this.operationId = null;
                this.loadingIndicator = null; // img dom el
                this.interval = null;

                /* parameters to the loadingOperation action*/
                this.deleteOnError = true;
                this.deleteOnFinish = true;

                /* implement these for custom behaviour */
                this.onOperationError = null;
                this.onOperationFinish = null;
                this.onOperationProgressChange = null;

                /* public methods */
                this.start = function () {
                  running = true;
                  sheckOperationStatus();
                };

                this.stop = function () {
                  running = false;
                };

                /* private methods */
                function setLoadingIndicatorVisibility(visible) {
                  if (this.loadingIndicator) {
                    if (visible) {
                      this.loadingIndicator.className =
                        this.loadingIndicator.className.replace(
                          /indicator/gi,
                          ""
                        );

                      if (this.loadingIndicator.src) {
                        this.loadingIndicator.src = this.loadingIndicator.src;
                      } else {
                        var childNodes = this.loadingIndicator;
                        if (childNodes && childNodes.length) {
                          for (var i = 0; i < childNodes.length; i++) {
                            if (childNodes[i].src) {
                              childNodes[i].src = childNodes[i].src;
                            }
                          }
                        }
                      }
                    } else {
                      this.loadingIndicator.className =
                        this.loadingIndicator.className + " indicator";
                    }
                  }
                }

                function sheckOperationStatus() {
                  if (running) {
                    setLoadingIndicatorVisibility(true);
                    getLoadingOperationStatus();
                  }
                }

                function getLoadingOperationStatus() {
                  var url =
                    "/LoadingOperation.do?operationId=" +
                    this.operationId +
                    "&responseType=1";

                  if (!this.deleteOnError) {
                    url += "&deleteOnError=false";
                  }

                  if (!this.deleteOnFinish) {
                    url += "&deleteOnFinish=false";
                  }

                  Ext.Ajax.request({
                    url: url,
                    callback: setLoadingOperationStatus,
                    scope: this,
                  });
                }

                function setLoadingOperationStatus(conn, success, resp) {
                  if (success) {
                    var loadingOperationPropertiesText = resp.responseText;
                    var loadingOperationProperties = null;

                    eval(
                      "loadingOperationProperties = " +
                        loadingOperationPropertiesText
                    );

                    /* check again in closure */
                    var recheck = function () {
                      return function () {
                        sheckOperationStatus();
                      };
                    };

                    var operationStatus =
                      "" + loadingOperationProperties["status"];

                    switch (operationStatus) {
                      case "0":
                      case "1":
                        setTimeout(recheck(), this.interval);
                        break;

                      case "4":
                        var goOn = true;
                        if (this.onOperationProgressChange) {
                          goOn = !(
                            this.onOperationProgressChange(
                              this,
                              loadingOperationProperties
                            ) == false
                          );
                        }

                        if (goOn) {
                          setTimeout(recheck(), this.interval);
                        }
                        break;

                      case "2":
                        setLoadingIndicatorVisibility(false);
                        if (this.onOperationFinish)
                          this.onOperationFinish(
                            this,
                            loadingOperationProperties
                          );
                        break;

                      case "3":
                        setLoadingIndicatorVisibility(false);
                        if (this.onOperationError)
                          this.onOperationError(
                            this,
                            loadingOperationProperties
                          );

                        break;
                    }
                  } else {
                    if (
                      !(
                        "/LoadingOperation.do?operationId=exportCustomStructuresAndObjectsOperationKey&responseType=1" ==
                          conn.url && window.chrome
                      )
                    ) {
                      setLoadingIndicatorVisibility(false);
                      if (this.onOperationError)
                        this.onOperationError(this, {});
                    }
                  }
                }

                /* constructor */
                function init(config) {
                  this.operationId = config.operationId
                    ? config.operationId
                    : "LoadOperation_" + new Date().getTime();
                  this.loadingIndicator = config.loadingIndicatorId
                    ? document.getElementById(config.loadingIndicatorId)
                    : null;
                  this.interval = config.interval ? config.interval : 1000;
                  this.onOperationError = config.onOperationError
                    ? config.onOperationError
                    : Ext.emptyFn;
                  this.onOperationFinish = config.onOperationFinish
                    ? config.onOperationFinish
                    : Ext.emptyFn;
                  this.onOperationProgressChange =
                    config.onOperationProgressChange
                      ? config.onOperationProgressChange
                      : function () {
                          return true;
                        };
                  this.deleteOnError =
                    config.deleteOnError === false ? false : true;
                  this.deleteOnFinish =
                    config.deleteOnFinish === false ? false : true;
                }

                init(config ? config : {});
              }
            </script>

            <script
              type="text/javascript"
              src="/js/ContextMenu_bm6.js"
            ></script>

            <script type="text/javascript" src="/dwr/engine.js"></script>
            <script
              type="text/javascript"
              src="/dwr/interface/MediaService.js"
            ></script>

            <script
              type="text/javascript"
              src="/js/tooltips/wz_tooltip.js"
            ></script>

            <style>
              .noLeftPadding .categoryContent {
                padding-left: 0 !important;
              }
              .fragmentEmptyItem {
                display: none;
              }
              .fragmentFilledItem {
                display: block;
              }
              .empty .fragmentEmptyItem {
                display: block;
              }
              .empty .fragmentFilledItem {
                display: none;
              }
              #extPopupBodyWithPadding {
                overflow-x: hidden;
              }
              .fragmentFilledItem .formStyle5 LABEL.bold {
                width: 160px;
              }
              .objectCreativeView {
                margin-right: 30px;
              }
            </style>

            <script>
              BaseDownloadSectionManager = function (config) {
                this.fragmentHolderId = null;

                this.mediaObjectsInSection = [];

                this.mediaRemovedCallbacks = [];
                this.mediaActivatedCallbacks = [];

                this.indexOfMediaInSection = function (mediaGUID) {
                  var index = -1;
                  for (var i = 0; i < this.mediaObjectsInSection.length; i++) {
                    if (mediaGUID == this.mediaObjectsInSection[i].mediaGUID) {
                      index = i;
                      break;
                    }
                  }
                  return index;
                };

                this.getMediaFromSection = function (mediaGUID) {
                  var media = null;
                  var index = this.indexOfMediaInSection(mediaGUID);
                  if (index != -1) {
                    media = this.mediaObjectsInSection[index];
                  }

                  return media;
                };

                this.filterActiveMediaObjects = function (returnActive) {
                  var mediaObjects = [];

                  for (var i = 0; i < this.mediaObjectsInSection.length; i++) {
                    var mediaObject = this.mediaObjectsInSection[i];
                    if (mediaObject.isActive && returnActive) {
                      mediaObjects.push(mediaObject);
                    } else if (!mediaObject.isActive && !returnActive) {
                      mediaObjects.push(mediaObject);
                    }
                  }

                  return mediaObjects;
                };

                this.getInactiveMediaObject = function () {
                  return this.filterActiveMediaObjects(false);
                };

                this.getActiveMediaObjects = function () {
                  return this.filterActiveMediaObjects(true);
                };

                this.onMediaRemoved = function (callbackFunction) {
                  if (typeof callbackFunction == "function") {
                    this.mediaRemovedCallbacks.push(callbackFunction);
                  }
                };

                this.removeMedia = function (mediaGUID, mediaVersion) {
                  var indexOfMediaInSection =
                    this.indexOfMediaInSection(mediaGUID);

                  if (indexOfMediaInSection != -1) {
                    Ext.fly(
                      this.fragmentHolderId +
                        "Item_" +
                        mediaGUID +
                        "_" +
                        mediaVersion
                    ).remove();

                    var removedMediaObject = this.mediaObjectsInSection.splice(
                      indexOfMediaInSection,
                      1
                    );

                    var mediaObjectsCount = this.mediaObjectsInSection.length;

                    this.updateObjectsCountMessage();

                    for (
                      var j = 0;
                      j < this.mediaRemovedCallbacks.length;
                      j++
                    ) {
                      this.mediaRemovedCallbacks[j](
                        removedMediaObject[0],
                        mediaObjectsCount
                      );
                    }
                  }
                };

                this.updateObjectsCountMessage = function () {
                  var mediaObjectsCount = this.mediaObjectsInSection.length;

                  var countElId = this.fragmentHolderId + "EntriesCount";

                  if (mediaObjectsCount == 0) {
                    Ext.fly(this.fragmentHolderId).addClass("empty");

                    getEl(countElId).innerHTML =
                      "(" + mediaObjectsCount + " Entries)";
                  } else {
                    Ext.fly(this.fragmentHolderId).removeClass("empty");

                    if (mediaObjectsCount == 1) {
                      getEl(countElId).innerHTML = "(1 Entry)";
                    } else {
                      getEl(countElId).innerHTML =
                        "(" + mediaObjectsCount + " Entries)";
                    }
                  }
                };

                this.onMediaActivate = function (callbackFunction) {
                  if (typeof callbackFunction == "function") {
                    this.mediaActivatedCallbacks.push(callbackFunction);
                  }
                };

                this.openMediaDetailsPopup = function (mediaGUID) {
                  popup("/MediaDetails.do?mediaGUID=" + mediaGUID);
                };

                this.openMediaEditBeforeDownloadPopup = function (
                  mediaGUID,
                  mediaVersion
                ) {
                  var mediaObject = this.getMediaFromSection(mediaGUID);

                  if (mediaObject != null && mediaObject.mediaIsEditable) {
                    var requestPath = "/GraphicProcessMedia.do";
                    requestPath = requestPath + "?action=init&";
                    requestPath = requestPath + "mediaGUID=" + mediaGUID;
                    requestPath = requestPath + "&mediaVersion=" + mediaVersion;
                    requestPath =
                      requestPath +
                      "&mediaDownloadSchemeResolution=" +
                      mediaObject.mediaTargetResolution;
                    requestPath =
                      requestPath +
                      "&mediaResolution=" +
                      mediaObject.mediaTargetResolution;
                    requestPath =
                      requestPath + "&setDelaultOnFirstLoadValues=true";

                    popup(requestPath);
                  }
                };

                // constructor
                Ext.apply(this, config);
              };

              // called from the edit image popup
              function fillMediaWidthHeight(
                mediaWidth,
                mediaHeight,
                backgroundImageName,
                mediaGUID,
                mediaVersion
              ) {
                //do absolutely nothing
              }

              function createHiddenInput(name, value) {
                var field = document.createElement("input");
                field.setAttribute("name", name);
                field.setAttribute("value", value);
                field.setAttribute("type", "hidden");
                return field;
              }
            </script>

            <!-- ERRORS SECTION -->

            <!-- DLS LIST SECTION -->

            <div id="downloadSchemesContainer">
              <h4 style="">Select rendering scheme</h4>

              <table class="downloadSchemesList" style="">
                <colgroup>
                  <col style="width: 30px" />
                  <col style="width: 50px" />
                  <col colspan="1" />
                  <col style="width: 11px" />
                </colgroup>

                <tbody>
                  <tr
                    onclick="DownloadSelection.selectScheme(5, null)"
                    id="schemeSelection_5"
                    class="downloadSchemesListRow selectedRow"
                  >
                    <td class="radioCell">
                      <input
                        type="radio"
                        name="schemeSelectionRadio"
                        id="schemeSelectionRadio_5"
                        value="5"
                        class="radio"
                      />
                    </td>

                    <td class="iconCell">
                      <img
                        src="/GetMediaPreview.do?mediaGUID=73009&amp;versionNumber=0&amp;cache=true&amp;background=false&amp;border=false&amp;useAlternativePreview=false&amp;doNotForceRescale=true&amp;width=24&amp;height=24&amp;keepTransparency=true&amp;mediaPreviewType=custom&amp;mediaExportType=4"
                      />
                    </td>

                    <td class="textCell" colspan="1">
                      <p class="bold">Original</p>
                      <p>Download the original file format.</p>
                    </td>

                    <td class="rowMinHeightCellContainer">
                      <table cellpadding="0" cellspacing="0" border="0">
                        <tbody>
                          <tr>
                            <td class="separatorCell">
                              <div class="rowMinHeightEl"></div>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </td>
                  </tr>

                  <tr
                    onclick="DownloadSelection.selectScheme(53, null)"
                    id="schemeSelection_53"
                    class="downloadSchemesListRow"
                  >
                    <td class="radioCell">
                      <input
                        type="radio"
                        name="schemeSelectionRadio"
                        id="schemeSelectionRadio_53"
                        value="53"
                        class="radio"
                      />
                    </td>

                    <td class="iconCell">
                      <img
                        src="/GetMediaPreview.do?mediaGUID=73006&amp;versionNumber=0&amp;cache=true&amp;background=false&amp;border=false&amp;useAlternativePreview=false&amp;doNotForceRescale=true&amp;width=24&amp;height=24&amp;keepTransparency=true&amp;mediaPreviewType=custom&amp;mediaExportType=4"
                      />
                    </td>

                    <td class="textCell" colspan="1">
                      <p class="bold">JPG (Print / 300dpi)</p>
                      <p>JPG in 300dpi / CMYK</p>
                    </td>

                    <td class="rowMinHeightCellContainer">
                      <table cellpadding="0" cellspacing="0" border="0">
                        <tbody>
                          <tr>
                            <td class="separatorCell">
                              <div class="rowMinHeightEl"></div>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </td>
                  </tr>

                  <tr
                    onclick="DownloadSelection.selectScheme(54, null)"
                    id="schemeSelection_54"
                    class="downloadSchemesListRow"
                  >
                    <td class="radioCell">
                      <input
                        type="radio"
                        name="schemeSelectionRadio"
                        id="schemeSelectionRadio_54"
                        value="54"
                        class="radio"
                      />
                    </td>

                    <td class="iconCell">
                      <img
                        src="/GetMediaPreview.do?mediaGUID=73006&amp;versionNumber=0&amp;cache=true&amp;background=false&amp;border=false&amp;useAlternativePreview=false&amp;doNotForceRescale=true&amp;width=24&amp;height=24&amp;keepTransparency=true&amp;mediaPreviewType=custom&amp;mediaExportType=4"
                      />
                    </td>

                    <td class="textCell" colspan="1">
                      <p class="bold">TIF (Print / 300dpi)</p>
                      <p>TIF in print quality (CMYK / 300dpi)</p>
                    </td>

                    <td class="rowMinHeightCellContainer">
                      <table cellpadding="0" cellspacing="0" border="0">
                        <tbody>
                          <tr>
                            <td class="separatorCell">
                              <div class="rowMinHeightEl"></div>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </td>
                  </tr>

                  <tr
                    onclick="DownloadSelection.selectScheme(55, null)"
                    id="schemeSelection_55"
                    class="downloadSchemesListRow"
                  >
                    <td class="radioCell">
                      <input
                        type="radio"
                        name="schemeSelectionRadio"
                        id="schemeSelectionRadio_55"
                        value="55"
                        class="radio"
                      />
                    </td>

                    <td class="iconCell">
                      <img
                        src="/GetMediaPreview.do?mediaGUID=73007&amp;versionNumber=0&amp;cache=true&amp;background=false&amp;border=false&amp;useAlternativePreview=false&amp;doNotForceRescale=true&amp;width=24&amp;height=24&amp;keepTransparency=true&amp;mediaPreviewType=custom&amp;mediaExportType=4"
                      />
                    </td>

                    <td class="textCell" colspan="1">
                      <p class="bold">JPG (Web / 72dpi)</p>
                      <p>
                        JPG for usage in the web. (RGB / 72dpi), maximum output
                        width 1280px
                      </p>
                    </td>

                    <td class="rowMinHeightCellContainer">
                      <table cellpadding="0" cellspacing="0" border="0">
                        <tbody>
                          <tr>
                            <td class="separatorCell">
                              <div class="rowMinHeightEl"></div>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </td>
                  </tr>

                  <tr
                    onclick="DownloadSelection.selectScheme(56, null)"
                    id="schemeSelection_56"
                    class="downloadSchemesListRow"
                  >
                    <td class="radioCell">
                      <input
                        type="radio"
                        name="schemeSelectionRadio"
                        id="schemeSelectionRadio_56"
                        value="56"
                        class="radio"
                      />
                    </td>

                    <td class="iconCell">
                      <img
                        src="/GetMediaPreview.do?mediaGUID=73007&amp;versionNumber=0&amp;cache=true&amp;background=false&amp;border=false&amp;useAlternativePreview=false&amp;doNotForceRescale=true&amp;width=24&amp;height=24&amp;keepTransparency=true&amp;mediaPreviewType=custom&amp;mediaExportType=4"
                      />
                    </td>

                    <td class="textCell" colspan="1">
                      <p class="bold">PNG (Web / 72dpi)</p>
                      <p>
                        PNG for internet usage (RGB / 72dpi). Transparency
                        possible.
                      </p>
                    </td>

                    <td class="rowMinHeightCellContainer">
                      <table cellpadding="0" cellspacing="0" border="0">
                        <tbody>
                          <tr>
                            <td class="separatorCell">
                              <div class="rowMinHeightEl"></div>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </td>
                  </tr>

                  <tr
                    onclick="DownloadSelection.selectScheme(57, null)"
                    id="schemeSelection_57"
                    class="downloadSchemesListRow"
                  >
                    <td class="radioCell">
                      <input
                        type="radio"
                        name="schemeSelectionRadio"
                        id="schemeSelectionRadio_57"
                        value="57"
                        class="radio"
                      />
                    </td>

                    <td class="iconCell">
                      <img
                        src="/GetMediaPreview.do?mediaGUID=73008&amp;versionNumber=0&amp;cache=true&amp;background=false&amp;border=false&amp;useAlternativePreview=false&amp;doNotForceRescale=true&amp;width=24&amp;height=24&amp;keepTransparency=true&amp;mediaPreviewType=custom&amp;mediaExportType=4"
                      />
                    </td>

                    <td class="textCell" colspan="1">
                      <p class="bold">Presentation (150dpi)</p>
                      <p>
                        Output depending on source file as PDF, JPG, PNG file
                        for usage in office.
                      </p>
                    </td>

                    <td class="rowMinHeightCellContainer">
                      <table cellpadding="0" cellspacing="0" border="0">
                        <tbody>
                          <tr>
                            <td class="separatorCell">
                              <div class="rowMinHeightEl"></div>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </td>
                  </tr>

                  <tr
                    onclick="DownloadSelection.selectScheme(1465, null)"
                    id="schemeSelection_1465"
                    class="downloadSchemesListRow"
                  >
                    <td class="radioCell">
                      <input
                        type="radio"
                        name="schemeSelectionRadio"
                        id="schemeSelectionRadio_1465"
                        value="1465"
                        class="radio"
                      />
                    </td>

                    <td class="iconCell">
                      <span class="icon01 iconSettings"></span>
                    </td>

                    <td class="textCell" colspan="1">
                      <p class="bold">Webcache Schema</p>
                      <p></p>
                    </td>

                    <td class="rowMinHeightCellContainer">
                      <table cellpadding="0" cellspacing="0" border="0">
                        <tbody>
                          <tr>
                            <td class="separatorCell">
                              <div class="rowMinHeightEl"></div>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </td>
                  </tr>

                  <tr
                    onclick="DownloadSelection.selectScheme(1665, null)"
                    id="schemeSelection_1665"
                    class="downloadSchemesListRow"
                  >
                    <td class="radioCell">
                      <input
                        type="radio"
                        name="schemeSelectionRadio"
                        id="schemeSelectionRadio_1665"
                        value="1665"
                        class="radio"
                      />
                    </td>

                    <td class="iconCell">
                      <span class="icon01 iconSettings"></span>
                    </td>

                    <td class="textCell" colspan="1">
                      <p class="bold">JPG (Original) ((TEST)</p>
                      <p></p>
                    </td>

                    <td class="rowMinHeightCellContainer">
                      <table cellpadding="0" cellspacing="0" border="0">
                        <tbody>
                          <tr>
                            <td class="separatorCell">
                              <div class="rowMinHeightEl"></div>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <input type="hidden" name="action" value="download" />
            <input
              type="hidden"
              name="operationKey"
              value="e45211fb-3e68-4690-817b-f418d2ae5d5b"
            />
            <input
              type="hidden"
              name="downloadSchemeId"
              value="5"
              id="downloadSchemeId"
            />

            <script>
              var DownloadSelection = new (function () {
                this.selectedSchemeId = null;
                this.schemeSelections = null;
                this.selectedPrice = null;

                this.init = function (preselectedSchemeId) {
                  var firstSchemeId =
                    typeof preselectedSchemeId == "undefined"
                      ? null
                      : preselectedSchemeId;

                  var schemeSelections = {};

                  schemeSelections[5] = {
                    schemeId: 5,
                    schemePrice: null,
                    isVisible: true,
                    supportedMediaObjects: [],
                    supportedMediaObjectsByType: [],
                    usupportedMediaObjects: [],
                    watchedTranscodings: [],
                  };

                  if (true && firstSchemeId == null) {
                    firstSchemeId = 5;
                  }

                  schemeSelections[5].supportedMediaObjects.push({
                    mediaGUID: 618187,
                    mediaVersion: 0,
                    mediaTitle: "STOCK 2169656369.jpg",
                    mediaIsEditable: false,
                    mediaTargetResolution: null,
                    mediaPreview:
                      "\n\t\t\t\t\t\t\t\t\t\t\t\t\/GetMediaPreview.do?mediaGUID=618187&versionNumber=0&cache=true&background=true&border=true&useAlternativePreview=false&skin=protech&mediaPreviewType=thumbnail\n\t\t\t\t\t  \t\t\t\t\t ",
                  });

                  schemeSelections[5].supportedMediaObjects.push({
                    mediaGUID: 618185,
                    mediaVersion: 0,
                    mediaTitle: "STOCK 2586550015.jpg",
                    mediaIsEditable: false,
                    mediaTargetResolution: null,
                    mediaPreview:
                      "\n\t\t\t\t\t\t\t\t\t\t\t\t\/GetMediaPreview.do?mediaGUID=618185&versionNumber=0&cache=true&background=true&border=true&useAlternativePreview=false&skin=protech&mediaPreviewType=thumbnail\n\t\t\t\t\t  \t\t\t\t\t ",
                  });

                  schemeSelections[5].supportedMediaObjects.push({
                    mediaGUID: 618186,
                    mediaVersion: 0,
                    mediaTitle: "STOCK 2525402267.jpg",
                    mediaIsEditable: false,
                    mediaTargetResolution: null,
                    mediaPreview:
                      "\n\t\t\t\t\t\t\t\t\t\t\t\t\/GetMediaPreview.do?mediaGUID=618186&versionNumber=0&cache=true&background=true&border=true&useAlternativePreview=false&skin=protech&mediaPreviewType=thumbnail\n\t\t\t\t\t  \t\t\t\t\t ",
                  });

                  schemeSelections[53] = {
                    schemeId: 53,
                    schemePrice: null,
                    isVisible: true,
                    supportedMediaObjects: [],
                    supportedMediaObjectsByType: [],
                    usupportedMediaObjects: [],
                    watchedTranscodings: [],
                  };

                  if (true && firstSchemeId == null) {
                    firstSchemeId = 53;
                  }

                  schemeSelections[53].supportedMediaObjects.push({
                    mediaGUID: 618187,
                    mediaVersion: 0,
                    mediaTitle: "STOCK 2169656369.jpg",
                    mediaIsEditable: true,
                    mediaTargetResolution: 300,
                    mediaPreview:
                      "\n\t\t\t\t\t\t\t\t\t\t\t\t\/GetMediaPreview.do?mediaGUID=618187&versionNumber=0&cache=true&background=true&border=true&useAlternativePreview=false&skin=protech&mediaPreviewType=thumbnail\n\t\t\t\t\t  \t\t\t\t\t ",
                  });

                  schemeSelections[53].supportedMediaObjects.push({
                    mediaGUID: 618185,
                    mediaVersion: 0,
                    mediaTitle: "STOCK 2586550015.jpg",
                    mediaIsEditable: true,
                    mediaTargetResolution: 300,
                    mediaPreview:
                      "\n\t\t\t\t\t\t\t\t\t\t\t\t\/GetMediaPreview.do?mediaGUID=618185&versionNumber=0&cache=true&background=true&border=true&useAlternativePreview=false&skin=protech&mediaPreviewType=thumbnail\n\t\t\t\t\t  \t\t\t\t\t ",
                  });

                  schemeSelections[53].supportedMediaObjects.push({
                    mediaGUID: 618186,
                    mediaVersion: 0,
                    mediaTitle: "STOCK 2525402267.jpg",
                    mediaIsEditable: true,
                    mediaTargetResolution: 300,
                    mediaPreview:
                      "\n\t\t\t\t\t\t\t\t\t\t\t\t\/GetMediaPreview.do?mediaGUID=618186&versionNumber=0&cache=true&background=true&border=true&useAlternativePreview=false&skin=protech&mediaPreviewType=thumbnail\n\t\t\t\t\t  \t\t\t\t\t ",
                  });

                  schemeSelections[54] = {
                    schemeId: 54,
                    schemePrice: null,
                    isVisible: true,
                    supportedMediaObjects: [],
                    supportedMediaObjectsByType: [],
                    usupportedMediaObjects: [],
                    watchedTranscodings: [],
                  };

                  if (true && firstSchemeId == null) {
                    firstSchemeId = 54;
                  }

                  schemeSelections[54].supportedMediaObjects.push({
                    mediaGUID: 618187,
                    mediaVersion: 0,
                    mediaTitle: "STOCK 2169656369.jpg",
                    mediaIsEditable: true,
                    mediaTargetResolution: 300,
                    mediaPreview:
                      "\n\t\t\t\t\t\t\t\t\t\t\t\t\/GetMediaPreview.do?mediaGUID=618187&versionNumber=0&cache=true&background=true&border=true&useAlternativePreview=false&skin=protech&mediaPreviewType=thumbnail\n\t\t\t\t\t  \t\t\t\t\t ",
                  });

                  schemeSelections[54].supportedMediaObjects.push({
                    mediaGUID: 618185,
                    mediaVersion: 0,
                    mediaTitle: "STOCK 2586550015.jpg",
                    mediaIsEditable: true,
                    mediaTargetResolution: 300,
                    mediaPreview:
                      "\n\t\t\t\t\t\t\t\t\t\t\t\t\/GetMediaPreview.do?mediaGUID=618185&versionNumber=0&cache=true&background=true&border=true&useAlternativePreview=false&skin=protech&mediaPreviewType=thumbnail\n\t\t\t\t\t  \t\t\t\t\t ",
                  });

                  schemeSelections[54].supportedMediaObjects.push({
                    mediaGUID: 618186,
                    mediaVersion: 0,
                    mediaTitle: "STOCK 2525402267.jpg",
                    mediaIsEditable: true,
                    mediaTargetResolution: 300,
                    mediaPreview:
                      "\n\t\t\t\t\t\t\t\t\t\t\t\t\/GetMediaPreview.do?mediaGUID=618186&versionNumber=0&cache=true&background=true&border=true&useAlternativePreview=false&skin=protech&mediaPreviewType=thumbnail\n\t\t\t\t\t  \t\t\t\t\t ",
                  });

                  schemeSelections[55] = {
                    schemeId: 55,
                    schemePrice: null,
                    isVisible: true,
                    supportedMediaObjects: [],
                    supportedMediaObjectsByType: [],
                    usupportedMediaObjects: [],
                    watchedTranscodings: [],
                  };

                  if (true && firstSchemeId == null) {
                    firstSchemeId = 55;
                  }

                  schemeSelections[55].supportedMediaObjects.push({
                    mediaGUID: 618187,
                    mediaVersion: 0,
                    mediaTitle: "STOCK 2169656369.jpg",
                    mediaIsEditable: true,
                    mediaTargetResolution: 72,
                    mediaPreview:
                      "\n\t\t\t\t\t\t\t\t\t\t\t\t\/GetMediaPreview.do?mediaGUID=618187&versionNumber=0&cache=true&background=true&border=true&useAlternativePreview=false&skin=protech&mediaPreviewType=thumbnail\n\t\t\t\t\t  \t\t\t\t\t ",
                  });

                  schemeSelections[55].supportedMediaObjects.push({
                    mediaGUID: 618185,
                    mediaVersion: 0,
                    mediaTitle: "STOCK 2586550015.jpg",
                    mediaIsEditable: true,
                    mediaTargetResolution: 72,
                    mediaPreview:
                      "\n\t\t\t\t\t\t\t\t\t\t\t\t\/GetMediaPreview.do?mediaGUID=618185&versionNumber=0&cache=true&background=true&border=true&useAlternativePreview=false&skin=protech&mediaPreviewType=thumbnail\n\t\t\t\t\t  \t\t\t\t\t ",
                  });

                  schemeSelections[55].supportedMediaObjects.push({
                    mediaGUID: 618186,
                    mediaVersion: 0,
                    mediaTitle: "STOCK 2525402267.jpg",
                    mediaIsEditable: true,
                    mediaTargetResolution: 72,
                    mediaPreview:
                      "\n\t\t\t\t\t\t\t\t\t\t\t\t\/GetMediaPreview.do?mediaGUID=618186&versionNumber=0&cache=true&background=true&border=true&useAlternativePreview=false&skin=protech&mediaPreviewType=thumbnail\n\t\t\t\t\t  \t\t\t\t\t ",
                  });

                  schemeSelections[56] = {
                    schemeId: 56,
                    schemePrice: null,
                    isVisible: true,
                    supportedMediaObjects: [],
                    supportedMediaObjectsByType: [],
                    usupportedMediaObjects: [],
                    watchedTranscodings: [],
                  };

                  if (true && firstSchemeId == null) {
                    firstSchemeId = 56;
                  }

                  schemeSelections[56].supportedMediaObjects.push({
                    mediaGUID: 618187,
                    mediaVersion: 0,
                    mediaTitle: "STOCK 2169656369.jpg",
                    mediaIsEditable: true,
                    mediaTargetResolution: 72,
                    mediaPreview:
                      "\n\t\t\t\t\t\t\t\t\t\t\t\t\/GetMediaPreview.do?mediaGUID=618187&versionNumber=0&cache=true&background=true&border=true&useAlternativePreview=false&skin=protech&mediaPreviewType=thumbnail\n\t\t\t\t\t  \t\t\t\t\t ",
                  });

                  schemeSelections[56].supportedMediaObjects.push({
                    mediaGUID: 618185,
                    mediaVersion: 0,
                    mediaTitle: "STOCK 2586550015.jpg",
                    mediaIsEditable: true,
                    mediaTargetResolution: 72,
                    mediaPreview:
                      "\n\t\t\t\t\t\t\t\t\t\t\t\t\/GetMediaPreview.do?mediaGUID=618185&versionNumber=0&cache=true&background=true&border=true&useAlternativePreview=false&skin=protech&mediaPreviewType=thumbnail\n\t\t\t\t\t  \t\t\t\t\t ",
                  });

                  schemeSelections[56].supportedMediaObjects.push({
                    mediaGUID: 618186,
                    mediaVersion: 0,
                    mediaTitle: "STOCK 2525402267.jpg",
                    mediaIsEditable: true,
                    mediaTargetResolution: 72,
                    mediaPreview:
                      "\n\t\t\t\t\t\t\t\t\t\t\t\t\/GetMediaPreview.do?mediaGUID=618186&versionNumber=0&cache=true&background=true&border=true&useAlternativePreview=false&skin=protech&mediaPreviewType=thumbnail\n\t\t\t\t\t  \t\t\t\t\t ",
                  });

                  schemeSelections[57] = {
                    schemeId: 57,
                    schemePrice: null,
                    isVisible: true,
                    supportedMediaObjects: [],
                    supportedMediaObjectsByType: [],
                    usupportedMediaObjects: [],
                    watchedTranscodings: [],
                  };

                  if (true && firstSchemeId == null) {
                    firstSchemeId = 57;
                  }

                  schemeSelections[57].supportedMediaObjects.push({
                    mediaGUID: 618187,
                    mediaVersion: 0,
                    mediaTitle: "STOCK 2169656369.jpg",
                    mediaIsEditable: true,
                    mediaTargetResolution: 150,
                    mediaPreview:
                      "\n\t\t\t\t\t\t\t\t\t\t\t\t\/GetMediaPreview.do?mediaGUID=618187&versionNumber=0&cache=true&background=true&border=true&useAlternativePreview=false&skin=protech&mediaPreviewType=thumbnail\n\t\t\t\t\t  \t\t\t\t\t ",
                  });

                  schemeSelections[57].supportedMediaObjects.push({
                    mediaGUID: 618185,
                    mediaVersion: 0,
                    mediaTitle: "STOCK 2586550015.jpg",
                    mediaIsEditable: true,
                    mediaTargetResolution: 150,
                    mediaPreview:
                      "\n\t\t\t\t\t\t\t\t\t\t\t\t\/GetMediaPreview.do?mediaGUID=618185&versionNumber=0&cache=true&background=true&border=true&useAlternativePreview=false&skin=protech&mediaPreviewType=thumbnail\n\t\t\t\t\t  \t\t\t\t\t ",
                  });

                  schemeSelections[57].supportedMediaObjects.push({
                    mediaGUID: 618186,
                    mediaVersion: 0,
                    mediaTitle: "STOCK 2525402267.jpg",
                    mediaIsEditable: true,
                    mediaTargetResolution: 150,
                    mediaPreview:
                      "\n\t\t\t\t\t\t\t\t\t\t\t\t\/GetMediaPreview.do?mediaGUID=618186&versionNumber=0&cache=true&background=true&border=true&useAlternativePreview=false&skin=protech&mediaPreviewType=thumbnail\n\t\t\t\t\t  \t\t\t\t\t ",
                  });

                  schemeSelections[1465] = {
                    schemeId: 1465,
                    schemePrice: null,
                    isVisible: true,
                    supportedMediaObjects: [],
                    supportedMediaObjectsByType: [],
                    usupportedMediaObjects: [],
                    watchedTranscodings: [],
                  };

                  if (true && firstSchemeId == null) {
                    firstSchemeId = 1465;
                  }

                  schemeSelections[1465].supportedMediaObjects.push({
                    mediaGUID: 618187,
                    mediaVersion: 0,
                    mediaTitle: "STOCK 2169656369.jpg",
                    mediaIsEditable: false,
                    mediaTargetResolution: null,
                    mediaPreview:
                      "\n\t\t\t\t\t\t\t\t\t\t\t\t\/GetMediaPreview.do?mediaGUID=618187&versionNumber=0&cache=true&background=true&border=true&useAlternativePreview=false&skin=protech&mediaPreviewType=thumbnail\n\t\t\t\t\t  \t\t\t\t\t ",
                  });

                  schemeSelections[1465].supportedMediaObjects.push({
                    mediaGUID: 618185,
                    mediaVersion: 0,
                    mediaTitle: "STOCK 2586550015.jpg",
                    mediaIsEditable: false,
                    mediaTargetResolution: null,
                    mediaPreview:
                      "\n\t\t\t\t\t\t\t\t\t\t\t\t\/GetMediaPreview.do?mediaGUID=618185&versionNumber=0&cache=true&background=true&border=true&useAlternativePreview=false&skin=protech&mediaPreviewType=thumbnail\n\t\t\t\t\t  \t\t\t\t\t ",
                  });

                  schemeSelections[1465].supportedMediaObjects.push({
                    mediaGUID: 618186,
                    mediaVersion: 0,
                    mediaTitle: "STOCK 2525402267.jpg",
                    mediaIsEditable: false,
                    mediaTargetResolution: null,
                    mediaPreview:
                      "\n\t\t\t\t\t\t\t\t\t\t\t\t\/GetMediaPreview.do?mediaGUID=618186&versionNumber=0&cache=true&background=true&border=true&useAlternativePreview=false&skin=protech&mediaPreviewType=thumbnail\n\t\t\t\t\t  \t\t\t\t\t ",
                  });

                  schemeSelections[1665] = {
                    schemeId: 1665,
                    schemePrice: null,
                    isVisible: true,
                    supportedMediaObjects: [],
                    supportedMediaObjectsByType: [],
                    usupportedMediaObjects: [],
                    watchedTranscodings: [],
                  };

                  if (true && firstSchemeId == null) {
                    firstSchemeId = 1665;
                  }

                  schemeSelections[1665].supportedMediaObjects.push({
                    mediaGUID: 618187,
                    mediaVersion: 0,
                    mediaTitle: "STOCK 2169656369.jpg",
                    mediaIsEditable: false,
                    mediaTargetResolution: null,
                    mediaPreview:
                      "\n\t\t\t\t\t\t\t\t\t\t\t\t\/GetMediaPreview.do?mediaGUID=618187&versionNumber=0&cache=true&background=true&border=true&useAlternativePreview=false&skin=protech&mediaPreviewType=thumbnail\n\t\t\t\t\t  \t\t\t\t\t ",
                  });

                  schemeSelections[1665].supportedMediaObjects.push({
                    mediaGUID: 618185,
                    mediaVersion: 0,
                    mediaTitle: "STOCK 2586550015.jpg",
                    mediaIsEditable: false,
                    mediaTargetResolution: null,
                    mediaPreview:
                      "\n\t\t\t\t\t\t\t\t\t\t\t\t\/GetMediaPreview.do?mediaGUID=618185&versionNumber=0&cache=true&background=true&border=true&useAlternativePreview=false&skin=protech&mediaPreviewType=thumbnail\n\t\t\t\t\t  \t\t\t\t\t ",
                  });

                  schemeSelections[1665].supportedMediaObjects.push({
                    mediaGUID: 618186,
                    mediaVersion: 0,
                    mediaTitle: "STOCK 2525402267.jpg",
                    mediaIsEditable: false,
                    mediaTargetResolution: null,
                    mediaPreview:
                      "\n\t\t\t\t\t\t\t\t\t\t\t\t\/GetMediaPreview.do?mediaGUID=618186&versionNumber=0&cache=true&background=true&border=true&useAlternativePreview=false&skin=protech&mediaPreviewType=thumbnail\n\t\t\t\t\t  \t\t\t\t\t ",
                  });

                  if (schemeSelections[5]) {
                    schemeSelections[5].supportedMediaObjectsByType.push({
                      mediaGUID: 618187,
                      mediaVersion: 0,
                    });
                  }

                  if (schemeSelections[5]) {
                    schemeSelections[5].supportedMediaObjectsByType.push({
                      mediaGUID: 618185,
                      mediaVersion: 0,
                    });
                  }

                  if (schemeSelections[5]) {
                    schemeSelections[5].supportedMediaObjectsByType.push({
                      mediaGUID: 618186,
                      mediaVersion: 0,
                    });
                  }

                  if (schemeSelections[53]) {
                    schemeSelections[53].supportedMediaObjectsByType.push({
                      mediaGUID: 618187,
                      mediaVersion: 0,
                    });
                  }

                  if (schemeSelections[53]) {
                    schemeSelections[53].supportedMediaObjectsByType.push({
                      mediaGUID: 618185,
                      mediaVersion: 0,
                    });
                  }

                  if (schemeSelections[53]) {
                    schemeSelections[53].supportedMediaObjectsByType.push({
                      mediaGUID: 618186,
                      mediaVersion: 0,
                    });
                  }

                  if (schemeSelections[54]) {
                    schemeSelections[54].supportedMediaObjectsByType.push({
                      mediaGUID: 618187,
                      mediaVersion: 0,
                    });
                  }

                  if (schemeSelections[54]) {
                    schemeSelections[54].supportedMediaObjectsByType.push({
                      mediaGUID: 618185,
                      mediaVersion: 0,
                    });
                  }

                  if (schemeSelections[54]) {
                    schemeSelections[54].supportedMediaObjectsByType.push({
                      mediaGUID: 618186,
                      mediaVersion: 0,
                    });
                  }

                  if (schemeSelections[55]) {
                    schemeSelections[55].supportedMediaObjectsByType.push({
                      mediaGUID: 618187,
                      mediaVersion: 0,
                    });
                  }

                  if (schemeSelections[55]) {
                    schemeSelections[55].supportedMediaObjectsByType.push({
                      mediaGUID: 618185,
                      mediaVersion: 0,
                    });
                  }

                  if (schemeSelections[55]) {
                    schemeSelections[55].supportedMediaObjectsByType.push({
                      mediaGUID: 618186,
                      mediaVersion: 0,
                    });
                  }

                  if (schemeSelections[56]) {
                    schemeSelections[56].supportedMediaObjectsByType.push({
                      mediaGUID: 618187,
                      mediaVersion: 0,
                    });
                  }

                  if (schemeSelections[56]) {
                    schemeSelections[56].supportedMediaObjectsByType.push({
                      mediaGUID: 618185,
                      mediaVersion: 0,
                    });
                  }

                  if (schemeSelections[56]) {
                    schemeSelections[56].supportedMediaObjectsByType.push({
                      mediaGUID: 618186,
                      mediaVersion: 0,
                    });
                  }

                  if (schemeSelections[57]) {
                    schemeSelections[57].supportedMediaObjectsByType.push({
                      mediaGUID: 618187,
                      mediaVersion: 0,
                    });
                  }

                  if (schemeSelections[57]) {
                    schemeSelections[57].supportedMediaObjectsByType.push({
                      mediaGUID: 618185,
                      mediaVersion: 0,
                    });
                  }

                  if (schemeSelections[57]) {
                    schemeSelections[57].supportedMediaObjectsByType.push({
                      mediaGUID: 618186,
                      mediaVersion: 0,
                    });
                  }

                  if (schemeSelections[1465]) {
                    schemeSelections[1465].supportedMediaObjectsByType.push({
                      mediaGUID: 618187,
                      mediaVersion: 0,
                    });
                  }

                  if (schemeSelections[1465]) {
                    schemeSelections[1465].supportedMediaObjectsByType.push({
                      mediaGUID: 618185,
                      mediaVersion: 0,
                    });
                  }

                  if (schemeSelections[1465]) {
                    schemeSelections[1465].supportedMediaObjectsByType.push({
                      mediaGUID: 618186,
                      mediaVersion: 0,
                    });
                  }

                  if (schemeSelections[1665]) {
                    schemeSelections[1665].supportedMediaObjectsByType.push({
                      mediaGUID: 618187,
                      mediaVersion: 0,
                    });
                  }

                  if (schemeSelections[1665]) {
                    schemeSelections[1665].supportedMediaObjectsByType.push({
                      mediaGUID: 618185,
                      mediaVersion: 0,
                    });
                  }

                  if (schemeSelections[1665]) {
                    schemeSelections[1665].supportedMediaObjectsByType.push({
                      mediaGUID: 618186,
                      mediaVersion: 0,
                    });
                  }

                  this.initWithSelections(schemeSelections, firstSchemeId);
                };

                this.initWithSelections = function (
                  schemeSelections,
                  preselectedSchemeId
                ) {
                  this.schemeSelections = schemeSelections;

                  Ext.select(".downloadSchemesListRow").addClassOnOver(
                    "hoveredRow"
                  );

                  if (typeof LicensedMediasManager != "undefined") {
                    LicensedMediasManager.onMediaRemoved(function (
                      media,
                      remainingLicensedMediasCount
                    ) {
                      if (typeof PlaylistManager != "undefined") {
                        PlaylistManager.removeMedia(media);
                      }

                      DownloadSelection.mediaRemoved(
                        media,
                        remainingLicensedMediasCount
                      );
                    });

                    LicensedMediasManager.onMediaActivate(function (media) {
                      DownloadSelection.mediaActiveStatusChanged(media);
                    });
                  }

                  if (typeof ApprovalRequiredMediasManager != "undefined") {
                    ApprovalRequiredMediasManager.onMediaRemoved(function (
                      media,
                      remainingApprovalRequiredMediasCount
                    ) {
                      if (typeof PlaylistManager != "undefined") {
                        PlaylistManager.removeMedia(media);
                      }

                      DownloadSelection.mediaRemoved(
                        media,
                        remainingApprovalRequiredMediasCount
                      );
                    });

                    ApprovalRequiredMediasManager.onMediaActivate(function (
                      media
                    ) {
                      DownloadSelection.mediaActiveStatusChanged(media);
                    });
                  }

                  if (typeof MediasToDownloadManager != "undefined") {
                    MediasToDownloadManager.onMediaRemoved(function (
                      media,
                      remainingMediasToDownloadCount
                    ) {
                      if (typeof PlaylistManager != "undefined") {
                        PlaylistManager.removeMedia(media);
                      }

                      DownloadSelection.mediaRemoved(
                        media,
                        remainingMediasToDownloadCount
                      );
                    });

                    MediasToDownloadManager.onMediaActivate(function (media) {
                      DownloadSelection.mediaActiveStatusChanged(media);
                    });
                  }

                  // media can be in both 'approval required' and 'licensed' sections
                  if (
                    typeof LicensedMediasManager != "undefined" &&
                    typeof ApprovalRequiredMediasManager != "undefined"
                  ) {
                    LicensedMediasManager.onMediaActivate(function (media) {
                      if (
                        ApprovalRequiredMediasManager.indexOfMediaInSection(
                          media.mediaGUID
                        ) != -1
                      ) {
                        ApprovalRequiredMediasManager.activateMediaObject(
                          media,
                          media.isActive
                        );
                      }
                    });

                    LicensedMediasManager.onMediaRemoved(function (
                      media,
                      remainingLicensedMediasCount
                    ) {
                      ApprovalRequiredMediasManager.removeMedia(
                        media.mediaGUID,
                        media.mediaVersion
                      );
                    });

                    ApprovalRequiredMediasManager.onMediaRemoved(function (
                      media,
                      remainingApprovalRequiredMediasCount
                    ) {
                      LicensedMediasManager.removeMedia(
                        media.mediaGUID,
                        media.mediaVersion
                      );
                    });
                  }

                  if (typeof PlaylistManager != "undefined") {
                    PlaylistManager.onPlayerSelectionChange(function (
                      selectedPlayers
                    ) {
                      DownloadSelection.setScheme(
                        DownloadSelection.selectedSchemeId
                      );

                      DownloadSelection.setPlayerSelection(selectedPlayers);
                    });
                  }

                  var _preselectedSchemeId = preselectedSchemeId;
                  var _preselectedSchemePrice = null;

                  /* initialize scheme selection with the first scheme, if not specified otherwise */
                  if (
                    typeof preselectedSchemeId == "undefined" ||
                    preselectedSchemeId == null
                  ) {
                    for (var schemeId in this.schemeSelections) {
                      var preselectedScheme = this.schemeSelections[schemeId];

                      if (preselectedScheme.isVisible) {
                        _preselectedSchemeId = preselectedScheme.schemeId;
                        _preselectedSchemePrice = preselectedScheme.schemePrice;
                        break;
                      }
                    }
                  } else {
                    _preselectedSchemePrice =
                      this.schemeSelections[_preselectedSchemeId].schemePrice;
                  }

                  this.selectScheme(
                    _preselectedSchemeId,
                    _preselectedSchemePrice
                  );

                  /* media objects which are in both licensed and approval required sections should not open their details in popup when clicked */
                  if (
                    typeof LicensedMediasManager != "undefined" &&
                    typeof ApprovalRequiredMediasManager != "undefined"
                  ) {
                    for (
                      var i = 0;
                      i < LicensedMediasManager.mediaObjectsInSection.length;
                      i++
                    ) {
                      var licensedMediaObjec =
                        LicensedMediasManager.mediaObjectsInSection[i];

                      var mediaIsApprovalRequireSection =
                        ApprovalRequiredMediasManager.indexOfMediaInSection(
                          licensedMediaObjec.mediaGUID
                        ) != -1;

                      if (mediaIsApprovalRequireSection) {
                        LicensedMediasManager.disableMediaDetailsPopupLink(
                          licensedMediaObjec
                        );

                        /* if in both sections disable the edit button in the licensed section */
                        for (var schemeId in this.schemeSelections) {
                          var schemeSelection = this.schemeSelections[schemeId];

                          for (
                            var j = 0;
                            j < schemeSelection.supportedMediaObjects.length;
                            j++
                          ) {
                            var supportedMediaObject =
                              schemeSelection.supportedMediaObjects[j];

                            if (
                              supportedMediaObject.mediaGUID ==
                              licensedMediaObjec.mediaGUID
                            ) {
                              supportedMediaObject.mediaIsEditable = false;
                              supportedMediaObject.mediaTargetResolution = null;

                              break;
                            }
                          }
                        }
                      }
                    }
                  }
                };

                this.setPlayerSelection = function (selectedPlayers) {
                  if (typeof PlaylistManager != "undefined") {
                    // skip sorting when there is only 1 available media
                    if (
                      selectedPlayers.length > 0 &&
                      this.getActiveMediaObjectsCount() > 1
                    ) {
                      var sortPlaylistLabel = "Sort and download";
                      function downloadAction() {
                        PlaylistManager.endSortPlaylist();

                        MediapoolDownloadAPI.setAction(
                          sortPlaylistLabel,
                          sortPlaylistAction
                        );
                        MediapoolDownloadAPI.setCancelAction(
                          null,
                          downloadCancelled
                        );

                        MediapoolDownloadAPI.download();
                      }

                      function downloadCancelled() {
                        MediapoolDownloadAPI.cancel();
                      }

                      function sortPlaylistCancelled() {
                        MediapoolDownloadAPI.allowAction();
                        PlaylistManager.cancelSortPlaylist();
                        MediapoolDownloadAPI.setAction(
                          sortPlaylistLabel,
                          sortPlaylistAction
                        );
                        MediapoolDownloadAPI.setCancelAction(
                          "Cancel",
                          downloadCancelled
                        );
                      }

                      function sortPlaylistAction() {
                        MediapoolDownloadAPI.setAction(
                          MediapoolDownloadAPI.actionButtonLabel,
                          downloadAction
                        );
                        MediapoolDownloadAPI.setCancelAction(
                          "Back",
                          sortPlaylistCancelled
                        );

                        var activeMediaObjects =
                          DownloadSelection.getActiveMediaObjects();

                        PlaylistManager.startSortPlaylist(
                          activeMediaObjects.mediaObjects
                        );
                      }

                      //TODO validate
                      MediapoolDownloadAPI.setAction(
                        sortPlaylistLabel,
                        sortPlaylistAction
                      );
                    } else {
                      MediapoolDownloadAPI.setAction(
                        MediapoolDownloadAPI.actionButtonLabel,
                        function () {
                          MediapoolDownloadAPI.download();
                        }
                      );
                    }
                  }
                };

                this.mediaActiveStatusChanged = function (media, section) {
                  if (typeof MediaExcludedFromDownloadManager == "undefined") {
                    return;
                  }

                  if (!true) {
                    return; //its expected that all media objects are already in the forbidden ... map with the appropriate reason
                  }

                  var selectedScheme =
                    this.selectedSchemeId == null
                      ? null
                      : this.schemeSelections[this.selectedSchemeId];
                  var noSchemeIsSelected = selectedScheme == null;
                  var mediaIsActive = media.isActive;

                  if (
                    getEl(
                      "linkStartTranscoding_" +
                        media.mediaGUID +
                        "_" +
                        media.mediaVersion
                    )
                  )
                    document.getElementById(
                      "linkStartTranscoding_" +
                        media.mediaGUID +
                        "_" +
                        media.mediaVersion
                    ).style.display = "none";
                  if (
                    getEl(
                      "linkAddTranscodingNotify_" +
                        media.mediaGUID +
                        "_" +
                        media.mediaVersion
                    )
                  )
                    document.getElementById(
                      "linkAddTranscodingNotify_" +
                        media.mediaGUID +
                        "_" +
                        media.mediaVersion
                    ).style.display = "none";
                  if (
                    getEl(
                      "linkRemoveTranscodingNotify_" +
                        media.mediaGUID +
                        "_" +
                        media.mediaVersion
                    )
                  )
                    document.getElementById(
                      "linkRemoveTranscodingNotify_" +
                        media.mediaGUID +
                        "_" +
                        media.mediaVersion
                    ).style.display = "none";

                  if (noSchemeIsSelected) {
                    MediaExcludedFromDownloadManager.deactivateMediaObject(
                      media,
                      "NO_SCHEME_SELECTED"
                    );
                  } else {
                    if (mediaIsActive) {
                      MediaExcludedFromDownloadManager.activateMediaObject(
                        media
                      );
                    } else {
                      var mediaSpecificUnavailabilityReason = null;

                      for (
                        var i = 0;
                        i < selectedScheme.usupportedMediaObjects.length;
                        i++
                      ) {
                        if (
                          media.mediaGUID ==
                          selectedScheme.usupportedMediaObjects[i].mediaGUID
                        ) {
                          mediaSpecificUnavailabilityReason =
                            selectedScheme.usupportedMediaObjects[i].reason;
                          break;
                        }
                      }

                      if (mediaSpecificUnavailabilityReason != null) {
                        var mediaSpecificUnavailabilityMessage = null;

                        if (
                          mediaSpecificUnavailabilityReason ==
                          "NEEDS_TRANSCODING"
                        ) {
                          mediaSpecificUnavailabilityMessage =
                            "You cannot download the asset because the video file is not yet transcoded.";
                          //mediaSpecificUnavailabilityMessage = mediaSpecificUnavailabilityMessage + '&nbsp;<a href="javascript:DownloadSelection.addVideoTranscodingProfileToQueue(' + media.mediaGUID + ', ' + media.mediaVersion + ', ' + this.selectedSchemeId + ')">';
                          //mediaSpecificUnavailabilityMessage = mediaSpecificUnavailabilityMessage + 'Add to video transcoding';
                          //mediaSpecificUnavailabilityMessage = mediaSpecificUnavailabilityMessage + '</a>';

                          document.getElementById(
                            "linkStartTranscoding_" +
                              media.mediaGUID +
                              "_" +
                              media.mediaVersion
                          ).style.display = "block";
                        }

                        var watched = false;

                        var selection =
                          DownloadSelection.schemeSelections[
                            this.selectedSchemeId
                          ];
                        var transcodingProfileId = null;
                        for (
                          var i = 0;
                          i < selection.usupportedMediaObjects.length;
                          i++
                        ) {
                          var unsupportedMediaObject =
                            selection.usupportedMediaObjects[i];

                          if (
                            unsupportedMediaObject.mediaGUID == media.mediaGUID
                          ) {
                            transcodingProfileId =
                              unsupportedMediaObject.transcodingProfileId;
                            break;
                          }
                        }
                        for (
                          var i = 0;
                          i < selectedScheme.watchedTranscodings.length;
                          i++
                        ) {
                          if (
                            media.mediaGUID ==
                              selectedScheme.watchedTranscodings[i].mediaGUID &&
                            selectedScheme.watchedTranscodings[i]
                              .transcodingProfileId == transcodingProfileId
                          ) {
                            watched =
                              selectedScheme.watchedTranscodings[i].watched;
                            break;
                          }
                        }
                        if (watched == "false") {
                          if (
                            document.getElementById(
                              "linkStartTranscoding_" +
                                media.mediaGUID +
                                "_" +
                                media.mediaVersion
                            ).style.display == "none"
                          ) {
                            document.getElementById(
                              "linkAddTranscodingNotify_" +
                                media.mediaGUID +
                                "_" +
                                media.mediaVersion
                            ).style.display = "block";
                          }
                        } else if (watched == "true") {
                          document.getElementById(
                            "linkRemoveTranscodingNotify_" +
                              media.mediaGUID +
                              "_" +
                              media.mediaVersion
                          ).style.display = "block";
                        }

                        MediaExcludedFromDownloadManager.deactivateMediaObject(
                          media,
                          mediaSpecificUnavailabilityReason,
                          mediaSpecificUnavailabilityMessage
                        );
                      } else {
                        var mediaIsInApprovalRequireSection =
                          typeof ApprovalRequiredMediasManager != "undefined" &&
                          ApprovalRequiredMediasManager.indexOfMediaInSection(
                            media.mediaGUID
                          ) != -1;
                        var mediaIsInLicenseAgreementRequireSection =
                          typeof LicensedMediasManager != "undefined" &&
                          LicensedMediasManager.indexOfMediaInSection(
                            media.mediaGUID
                          ) != -1;
                        var mediaIsInBothApprovalAndLicenseRequireSections =
                          mediaIsInApprovalRequireSection &&
                          mediaIsInLicenseAgreementRequireSection;
                        var mediaIsNotInApprovalAndLicenseRequireSections =
                          !mediaIsInApprovalRequireSection &&
                          !mediaIsInLicenseAgreementRequireSection;
                        var mediaIsInLicenseAgreementRequireSectionAndIsActiveButNotChecked =
                          mediaIsInLicenseAgreementRequireSection &&
                          !LicensedMediasManager.getMediaFromSection(
                            media.mediaGUID
                          ).isDisabled;
                        var mediaIsSupportedByTypeFromTheCurrentScheme =
                          (function () {
                            var mediaIsInSupportedMediaObjectsByType = false;
                            for (
                              var i = 0;
                              i <
                              selectedScheme.supportedMediaObjectsByType.length;
                              i++
                            ) {
                              if (
                                media.mediaGUID ==
                                selectedScheme.supportedMediaObjectsByType[i]
                                  .mediaGUID
                              ) {
                                mediaIsInSupportedMediaObjectsByType = true;
                                break;
                              }
                            }
                            return mediaIsInSupportedMediaObjectsByType;
                          })();

                        var mediaIsSupportedByTypeFromTheCurrentSchemeButNotForTheSelectedPlayers =
                          mediaIsSupportedByTypeFromTheCurrentScheme &&
                          (typeof PlaylistManager != "undefined"
                            ? PlaylistManager.getSelectedPlayers().length > 0 &&
                              PlaylistManager.getSelectedPlayers().length !=
                                PlaylistManager.getSupportedPlayersForSchemeAndMedia(
                                  this.selectedSchemeId,
                                  media
                                ).length
                            : false);

                        if (mediaIsNotInApprovalAndLicenseRequireSections) {
                          if (
                            mediaIsSupportedByTypeFromTheCurrentSchemeButNotForTheSelectedPlayers
                          ) {
                            MediaExcludedFromDownloadManager.deactivateMediaObject(
                              media,
                              "NO_PLAYLIST_POSSIBLE"
                            );
                          } else {
                            MediaExcludedFromDownloadManager.deactivateMediaObject(
                              media,
                              "NOT_SUPPORTED_BY_THE_SELECTED_SCHEME"
                            );
                          }
                        } else if (
                          mediaIsInBothApprovalAndLicenseRequireSections
                        ) {
                          if (
                            mediaIsInLicenseAgreementRequireSectionAndIsActiveButNotChecked
                          ) {
                            MediaExcludedFromDownloadManager.deactivateMediaObject(
                              media,
                              "NEEDS_LICENSE_AGREEMENT"
                            );
                          } else if (
                            mediaIsSupportedByTypeFromTheCurrentScheme
                          ) {
                            if (
                              mediaIsSupportedByTypeFromTheCurrentSchemeButNotForTheSelectedPlayers
                            ) {
                              MediaExcludedFromDownloadManager.deactivateMediaObject(
                                media,
                                "NO_PLAYLIST_POSSIBLE"
                              );
                            } else {
                              MediaExcludedFromDownloadManager.deactivateMediaObject(
                                media,
                                "NEEDS_DOWNLOAD_APPROVAL"
                              );
                            }
                          } else {
                            MediaExcludedFromDownloadManager.deactivateMediaObject(
                              media,
                              "NOT_SUPPORTED_BY_THE_SELECTED_SCHEME"
                            );
                          }
                        } else if (mediaIsInApprovalRequireSection) {
                          if (mediaIsSupportedByTypeFromTheCurrentScheme) {
                            if (
                              mediaIsSupportedByTypeFromTheCurrentSchemeButNotForTheSelectedPlayers
                            ) {
                              MediaExcludedFromDownloadManager.deactivateMediaObject(
                                media,
                                "NO_PLAYLIST_POSSIBLE"
                              );
                            } else {
                              MediaExcludedFromDownloadManager.deactivateMediaObject(
                                media,
                                "NEEDS_DOWNLOAD_APPROVAL"
                              );
                            }
                          } else {
                            MediaExcludedFromDownloadManager.deactivateMediaObject(
                              media,
                              "NOT_SUPPORTED_BY_THE_SELECTED_SCHEME"
                            );
                          }
                        } else if (mediaIsInLicenseAgreementRequireSection) {
                          var licensedMedia =
                            LicensedMediasManager.getMediaFromSection(
                              media.mediaGUID
                            );
                          if (licensedMedia.isDisabled === true) {
                            if (
                              mediaIsSupportedByTypeFromTheCurrentSchemeButNotForTheSelectedPlayers
                            ) {
                              MediaExcludedFromDownloadManager.deactivateMediaObject(
                                media,
                                "NO_PLAYLIST_POSSIBLE"
                              );
                            } else {
                              MediaExcludedFromDownloadManager.deactivateMediaObject(
                                media,
                                "NOT_SUPPORTED_BY_THE_SELECTED_SCHEME"
                              );
                            }
                          } else {
                            MediaExcludedFromDownloadManager.deactivateMediaObject(
                              media,
                              "NEEDS_LICENSE_AGREEMENT"
                            );
                          }
                        }
                      }
                    }
                  }

                  this.synchronizeButtonsWithCurrentSchemeSelection();
                };

                this.selectScheme = function (schemeID, price) {
                  this.selectedPrice = price;
                  if (this.selectedSchemeId != schemeID || schemeID == null) {
                    this.selectedSchemeId = schemeID;

                    document.getElementById("downloadSchemeId").value =
                      this.selectedSchemeId == null
                        ? ""
                        : this.selectedSchemeId;

                    if (schemeID != null) {
                      Ext.select(".downloadSchemesListRow").removeClass(
                        "selectedRow"
                      );

                      Ext.fly("schemeSelection_" + schemeID).addClass(
                        "selectedRow"
                      );

                      var radioEl = getEl("schemeSelectionRadio_" + schemeID);
                      if (radioEl) {
                        radioEl.checked = true;
                      }
                    }

                    var supportedMediaObjects = this.setScheme(schemeID);

                    var supportedMediaObjectsGUIDs = [];

                    // remove any graphic operations
                    for (
                      var i = 0;
                      i < supportedMediaObjects.mediaObjects.length;
                      i++
                    ) {
                      supportedMediaObjectsGUIDs.push(
                        supportedMediaObjects.mediaObjects[i].mediaGUID
                      );
                    }

                    MediaService.removeGraphicOperationsFromSessionForMediaObjects(
                      supportedMediaObjectsGUIDs,
                      { callback: Ext.emptyFn, errorHandler: Ext.emptyFn }
                    );
                  }
                };

                this.setScheme = function (schemeID) {
                  var supportedMediaObjects = {
                    mediaObjects: [],
                    findMediaObject: function (mediaGUID) {
                      var found = null;

                      for (var i = 0; i < this.mediaObjects.length; i++) {
                        if (mediaGUID == this.mediaObjects[i].mediaGUID) {
                          found = this.mediaObjects[i];
                          break;
                        }
                      }

                      return found;
                    },
                  };

                  if (schemeID != null) {
                    supportedMediaObjects.mediaObjects =
                      this.schemeSelections[schemeID].supportedMediaObjects;

                    if (typeof PlaylistManager != "undefined") {
                      supportedMediaObjects.mediaObjects =
                        PlaylistManager.activateScheme(
                          schemeID,
                          supportedMediaObjects.mediaObjects
                        );
                    }
                  }

                  if (typeof ApprovalRequiredMediasManager != "undefined") {
                    ApprovalRequiredMediasManager.activateMediaObjects(
                      supportedMediaObjects
                    );
                  }

                  if (typeof LicensedMediasManager != "undefined") {
                    LicensedMediasManager.activateMediaObjects(
                      supportedMediaObjects
                    );
                  }

                  if (typeof MediasToDownloadManager != "undefined") {
                    MediasToDownloadManager.activateMediaObjects(
                      supportedMediaObjects
                    );
                  }

                  return supportedMediaObjects;
                };

                this.mediaRemoved = function (media) {
                  var mediaGUID = media.mediaGUID;
                  var mediaVersion = media.mediaVersion;

                  for (var schemeId in this.schemeSelections) {
                    var schemeSelection = this.schemeSelections[schemeId];

                    for (
                      var i = 0;
                      i < schemeSelection.supportedMediaObjects.length;
                      i++
                    ) {
                      var supportedMediaObject =
                        schemeSelection.supportedMediaObjects[i];

                      if (supportedMediaObject.mediaGUID == mediaGUID) {
                        schemeSelection.supportedMediaObjects.splice(i, 1);

                        break;
                      }
                    }
                    /*
			do not show shemes when there are no media to download with them
			if (schemeSelection.supportedMediaObjects.length == 0)
			{
				var fragmentEl = Ext.get('schemeSelection_' + schemeId);
				if (fragmentEl)
				{
					fragmentEl.remove();
				}

				delete this.schemeSelections[schemeId];
			}
			*/
                  }

                  this.synchronizeButtonsWithCurrentSchemeSelection();

                  if (typeof MediaExcludedFromDownloadManager != "undefined") {
                    MediaExcludedFromDownloadManager.activateMediaObject(media);
                  }
                };

                this.getActiveMediaObjects = function () {
                  var activeMediaObjects = {
                    mediaObjects: [],
                    addAll: function (mediaObjects) {
                      for (var i = 0; i < mediaObjects.length; i++) {
                        this.add(mediaObjects[i]);
                      }
                    },
                    add: function (mediaObject) {
                      var alreayAdded = false;
                      for (var i = 0; i < this.mediaObjects.length; i++) {
                        if (
                          this.mediaObjects[i].mediaGUID ==
                          mediaObject.mediaGUID
                        ) {
                          alreayAdded = true;
                          break;
                        }
                      }

                      if (!alreayAdded) {
                        this.mediaObjects.push(mediaObject);
                        this.size++;
                      }
                    },
                  };

                  if (typeof ApprovalRequiredMediasManager != "undefined") {
                    var activeApprovalRequireMediaObjects =
                      ApprovalRequiredMediasManager.getActiveMediaObjects();
                    activeMediaObjects.addAll(
                      activeApprovalRequireMediaObjects
                    );
                  }

                  if (typeof LicensedMediasManager != "undefined") {
                    var activeLicensedMediaObjects =
                      LicensedMediasManager.getActiveMediaObjects();
                    activeMediaObjects.addAll(activeLicensedMediaObjects);
                  }

                  if (typeof MediasToDownloadManager != "undefined") {
                    var activeIncludedInDownloadMediaObjects =
                      MediasToDownloadManager.getActiveMediaObjects();
                    activeMediaObjects.addAll(
                      activeIncludedInDownloadMediaObjects
                    );
                  }

                  return activeMediaObjects;
                };

                this.getActiveMediaObjectsCount = function () {
                  return this.getActiveMediaObjects().mediaObjects.length;
                };

                this.synchronizeButtonsWithCurrentSchemeSelection =
                  function () {
                    if (typeof PlaylistManager != "undefined") {
                      if (PlaylistManager.getSelectedPlayers().length > 0) {
                        this.setPlayerSelection(
                          PlaylistManager.getSelectedPlayers()
                        );
                      }
                    }

                    var activeMediaObjectsCount =
                      this.getActiveMediaObjectsCount();

                    if (activeMediaObjectsCount == 0) {
                      MediapoolDownloadAPI.disallowAction();
                    } else {
                      MediapoolDownloadAPI.allowAction();
                    }
                  };

                this.addVideoTranscodingProfileToQueue = function (
                  mediaGUID,
                  mediaVersionNumber,
                  downloadSchemeID
                ) {
                  var transcodingProfileId = null;
                  var mediaTitle = null;

                  downloadSchemeID = downloadSchemeID | this.selectedSchemeId;

                  var selection =
                    DownloadSelection.schemeSelections[downloadSchemeID];

                  for (
                    var i = 0;
                    i < selection.usupportedMediaObjects.length;
                    i++
                  ) {
                    var unsupportedMediaObject =
                      selection.usupportedMediaObjects[i];

                    if (unsupportedMediaObject.mediaGUID == mediaGUID) {
                      transcodingProfileId =
                        unsupportedMediaObject.transcodingProfileId;
                      mediaTitle = unsupportedMediaObject.mediaTitle;
                    }
                  }

                  if (transcodingProfileId != null) {
                    var createCallback = function (
                      mediaGUID,
                      mediaVersionNumber,
                      mediaTitle,
                      downloadSchemeID,
                      transcodingProfileId
                    ) {
                      return function () {
                        var message1 =
                          "Your request for transcoding was successfully added to the queue.";

                        var message2 =
                          "You will be notified as soon as the transcoding of 'MEDIA_TITLE' (M-MEDIA_GUID) is finished.";
                        message2 = message2.replace("MEDIA_GUID", mediaGUID);
                        message2 = message2.replace("MEDIA_TITLE", mediaTitle);

                        mmsSuccess(
                          message1 + "\n" + message2,
                          null,
                          null,
                          true
                        );

                        for (var schemeId in DownloadSelection.schemeSelections) {
                          var schemeSelection =
                            DownloadSelection.schemeSelections[schemeId];

                          for (
                            var i = 0;
                            i < schemeSelection.usupportedMediaObjects.length;
                            i++
                          ) {
                            var unsupportedMediaObject =
                              schemeSelection.usupportedMediaObjects[i];

                            if (
                              unsupportedMediaObject.mediaGUID == mediaGUID &&
                              unsupportedMediaObject.reason ==
                                "NEEDS_TRANSCODING" &&
                              unsupportedMediaObject.transcodingProfileId ==
                                transcodingProfileId
                            ) {
                              unsupportedMediaObject.reason =
                                "NEEDS_TRANSCODING_TASK_ALREADY_IN_QUEUE";

                              if (
                                schemeSelection.schemeId == downloadSchemeID
                              ) {
                                MediaExcludedFromDownloadManager.deactivateMediaObject(
                                  unsupportedMediaObject,
                                  unsupportedMediaObject.reason
                                );
                              }
                            }
                          }

                          var found = false;
                          for (
                            var i = 0;
                            i < schemeSelection.watchedTranscodings.length;
                            i++
                          ) {
                            if (
                              mediaGUID ==
                                schemeSelection.watchedTranscodings[i]
                                  .mediaGUID &&
                              transcodingProfileId ==
                                schemeSelection.watchedTranscodings[i]
                                  .transcodingProfileId
                            ) {
                              schemeSelection.watchedTranscodings[i].watched =
                                "true";
                              found = true;
                              break;
                            }
                          }
                          if (!found) {
                            schemeSelection.watchedTranscodings.push({
                              mediaGUID: mediaGUID,
                              mediaVersion: mediaVersionNumber,
                              mediaTitle: "",
                              watched: "true",
                              transcodingProfileId: transcodingProfileId,
                            });
                          }

                          document.getElementById(
                            "linkStartTranscoding_" +
                              mediaGUID +
                              "_" +
                              mediaVersionNumber
                          ).style.display = "none";
                          document.getElementById(
                            "linkAddTranscodingNotify_" +
                              mediaGUID +
                              "_" +
                              mediaVersionNumber
                          ).style.display = "none";
                          document.getElementById(
                            "linkRemoveTranscodingNotify_" +
                              mediaGUID +
                              "_" +
                              mediaVersionNumber
                          ).style.display = "block";
                        }
                      };
                    };

                    TranscodingService.addTranscodingForMedia(
                      mediaGUID,
                      mediaVersionNumber,
                      transcodingProfileId,
                      {
                        callback: createCallback(
                          mediaGUID,
                          mediaVersionNumber,
                          mediaTitle,
                          downloadSchemeID,
                          transcodingProfileId
                        ),
                        errorHandler: function () {
                          mmsAlert(
                            "An error has occurred while requesting video processing."
                          );
                        },
                      }
                    );
                  }
                };

                this.addTranscodingWatcher = function (
                  mediaGUID,
                  mediaVersionNumber,
                  downloadSchemeID
                ) {
                  var transcodingProfileId = null;
                  var mediaTitle = null;

                  downloadSchemeID = downloadSchemeID | this.selectedSchemeId;

                  var selection =
                    DownloadSelection.schemeSelections[downloadSchemeID];

                  for (
                    var i = 0;
                    i < selection.usupportedMediaObjects.length;
                    i++
                  ) {
                    var unsupportedMediaObject =
                      selection.usupportedMediaObjects[i];

                    if (unsupportedMediaObject.mediaGUID == mediaGUID) {
                      transcodingProfileId =
                        unsupportedMediaObject.transcodingProfileId;
                      mediaTitle = unsupportedMediaObject.mediaTitle;
                    }
                  }

                  if (transcodingProfileId != null) {
                    var createCallback = function (
                      mediaGUID,
                      mediaVersionNumber,
                      mediaTitle,
                      downloadSchemeID,
                      transcodingProfileId
                    ) {
                      return function (result) {
                        var message =
                          "You will be notified as soon as the transcoding of 'MEDIA_TITLE' (M-MEDIA_GUID) is finished.";
                        message = message.replace("MEDIA_GUID", mediaGUID);
                        message = message.replace("MEDIA_TITLE", mediaTitle);
                        mmsAlert(message, null, null, null, true);
                        for (var schemeId in DownloadSelection.schemeSelections) {
                          var schemeSelection =
                            DownloadSelection.schemeSelections[schemeId];

                          var found = false;
                          for (
                            var i = 0;
                            i < schemeSelection.watchedTranscodings.length;
                            i++
                          ) {
                            if (
                              mediaGUID ==
                                schemeSelection.watchedTranscodings[i]
                                  .mediaGUID &&
                              schemeSelection.watchedTranscodings[i]
                                .transcodingProfileId == transcodingProfileId
                            ) {
                              schemeSelection.watchedTranscodings[i].watched =
                                "true";
                              found = true;
                              break;
                            }
                          }
                          if (!found) {
                            schemeSelection.watchedTranscodings.push({
                              mediaGUID: mediaGUID,
                              mediaVersion: mediaVersionNumber,
                              mediaTitle: "",
                              watched: "true",
                              transcodingProfileId: transcodingProfileId,
                            });
                          }

                          document.getElementById(
                            "linkAddTranscodingNotify_" +
                              mediaGUID +
                              "_" +
                              mediaVersionNumber
                          ).style.display = "none";
                          document.getElementById(
                            "linkRemoveTranscodingNotify_" +
                              mediaGUID +
                              "_" +
                              mediaVersionNumber
                          ).style.display = "block";
                        }
                      };
                    };

                    TranscodingService.addTranscodingWatcher(
                      mediaGUID,
                      mediaVersionNumber,
                      transcodingProfileId,
                      {
                        callback: createCallback(
                          mediaGUID,
                          mediaVersionNumber,
                          mediaTitle,
                          downloadSchemeID,
                          transcodingProfileId
                        ),
                        errorHandler: function (error) {
                          mmsAlert(
                            "An error has occurred while requesting video processing."
                          );
                        },
                      }
                    );
                  }
                };

                this.removeTranscodingWatcher = function (
                  mediaGUID,
                  mediaVersionNumber,
                  downloadSchemeID
                ) {
                  var transcodingProfileId = null;

                  downloadSchemeID = downloadSchemeID | this.selectedSchemeId;

                  var selection =
                    DownloadSelection.schemeSelections[downloadSchemeID];

                  for (
                    var i = 0;
                    i < selection.usupportedMediaObjects.length;
                    i++
                  ) {
                    var unsupportedMediaObject =
                      selection.usupportedMediaObjects[i];

                    if (unsupportedMediaObject.mediaGUID == mediaGUID) {
                      transcodingProfileId =
                        unsupportedMediaObject.transcodingProfileId;
                    }
                  }

                  if (transcodingProfileId != null) {
                    var createCallback = function (
                      mediaGUID,
                      mediaVersionNumber,
                      downloadSchemeID,
                      transcodingProfileId
                    ) {
                      return function () {
                        for (var schemeId in DownloadSelection.schemeSelections) {
                          var schemeSelection =
                            DownloadSelection.schemeSelections[schemeId];

                          var found = false;
                          for (
                            var i = 0;
                            i < schemeSelection.watchedTranscodings.length;
                            i++
                          ) {
                            if (
                              mediaGUID ==
                                schemeSelection.watchedTranscodings[i]
                                  .mediaGUID &&
                              transcodingProfileId ==
                                schemeSelection.watchedTranscodings[i]
                                  .transcodingProfileId
                            ) {
                              schemeSelection.watchedTranscodings[i].watched =
                                "false";
                              found = true;
                              break;
                            }
                          }
                          if (!found) {
                            schemeSelection.watchedTranscodings.push({
                              mediaGUID: mediaGUID,
                              mediaVersion: mediaVersionNumber,
                              mediaTitle: "",
                              watched: "false",
                              transcodingProfileId: transcodingProfileId,
                            });
                          }

                          if (
                            document.getElementById(
                              "linkStartTranscoding_" +
                                mediaGUID +
                                "_" +
                                mediaVersionNumber
                            ).style.display == "none"
                          )
                            document.getElementById(
                              "linkAddTranscodingNotify_" +
                                mediaGUID +
                                "_" +
                                mediaVersionNumber
                            ).style.display = "block";
                          document.getElementById(
                            "linkRemoveTranscodingNotify_" +
                              mediaGUID +
                              "_" +
                              mediaVersionNumber
                          ).style.display = "none";
                        }
                      };
                    };

                    TranscodingService.removeTranscodingWatcher(
                      mediaGUID,
                      mediaVersionNumber,
                      transcodingProfileId,
                      {
                        callback: createCallback(
                          mediaGUID,
                          mediaVersionNumber,
                          downloadSchemeID,
                          transcodingProfileId
                        ),
                        errorHandler: function () {
                          mmsAlert(
                            "An error has occurred while requesting video processing."
                          );
                        },
                      }
                    );
                  }
                };
              })();
            </script>

            <div class="bm6Form bm6FormStyle2cols floatLeft">
              <!-- PLAYLIST INFO SECTION -->

              <style>
                #playlistOptionsContainer {
                  width: 540px;
                }
                #playlistSortContainer H2 {
                  margin-bottom: 10px !important;
                }
                #playlistSectionHint {
                  margin: 0 0 10px 0;
                }
                #playlistSortPortalContainer
                  .playlistPortlet
                  .objectCreativeView {
                  margin-right: 0px;
                  margin-bottom: 0px;
                }

                .playlistPortlet {
                  float: left;
                  margin-bottom: 20px;
                  margin-right: 30px;
                }

                #playlistSortPortalContainer .x-panel-bwrap {
                  position: static;
                }
                #playlistSortPortalContainer .x-panel-body {
                  position: static;
                }

                .x-panel-dd-spacer {
                  float: left;
                  height: 145px;
                  width: 118px;
                  margin: 0 30px 20px 0;
                  overflow: hidden;
                  position: relative;
                } /*<div class="x-panel-dd-spacer"></div>*/
                #playlistSortPortalContainer .objectCreativeView {
                  float: none;
                }

                #playerType {
                  margin-right: 0;
                }
              </style>
            </div>

            <!-- MEDIAS REQUIRING APPROVAL SECTION -->

            <script
              type="text/javascript"
              src="/js/ManageCheckedMedias.jsp"
            ></script>

            <!-- LICENSED MEDIAS SECTION -->

            <style>
              .objectDetailedViewWithFooter {
                border: 0;
              }
              .objectDetailedViewWithFooter .border {
                width: 785px;
              }
              .objectDetailedViewWithFooter .previewTableContainer {
                border: 1px solid #ddd;
              }

              /*	.disabledPreview {cursor: pointer !important}
				.disabledMedia .disabledPreview {cursor: default !important}
			*/
            </style>

            <div class="hrMargined"></div>

            <script type="text/javascript">
              var mediasWithLIcenseGUIDs = new Array();

              function validateLicenseAgreement() {
                var canSubmit = true;
                for (i = 0; i < mediasWithLIcenseGUIDs.length; i++) {
                  var licenseCheckbox = document.getElementById(
                    "acceptLicenseCheckbox_" + mediasWithLIcenseGUIDs[i]
                  );
                  if (licenseCheckbox) {
                    if (licenseCheckbox.checked == false) {
                      canSubmit = false;
                    }
                  }
                }

                if (!canSubmit) {
                  mmsAlert("Please accept the license agreements.");
                }

                return canSubmit;
              }

              var requestLicenseWindow = null;
              var mediaGUIDForLicenseExtension = null;

              //use closure
              function createInitCallback() {
                return function () {
                  //var mediaGUIDForLicenseExtension = Ext.get('editorConfigurationId').dom.value;
                  Ext.get("requestLicenseWindowIFrame").dom.src =
                    "/RequestLicense.do?licensedMediaGUIDs=" +
                    mediaGUIDForLicenseExtension;
                };
              }

              function showLicenseRequestWindow(mediaGUID) {
                var iframeId = "requestLicenseWindowIFrame";
                var url = "/RequestLicense.do?licensedMediaGUIDs=" + mediaGUID;
                mediaGUIDForLicenseExtension = mediaGUID;

                if (requestLicenseWindow == null) {
                  Ext.onReady(function () {
                    var windowTitle = "License extension";
                    var width = 860;
                    var height = 580;

                    var beforeShowHandler = createInitCallback(mediaGUID);
                    requestLicenseWindow = createExtLayerInIframe(
                      windowTitle,
                      iframeId,
                      width,
                      height,
                      url,
                      null,
                      beforeShowHandler
                    );
                  });
                }

                requestLicenseWindow.show();
                requestLicenseWindow.center();
              }
            </script>

            <div id="licenseLinkHolder" class="expandedCategory noLeftPadding">
              <a
                onclick="ExpandableCategory.toggleCategory('licenseLinkHolder')"
                href="javascript: void(0)"
                class="commandLink"
              >
                Assets requiring license permission
                <span id="licenseFragmentEntriesCount" class="normalText"
                  >(3 Entries)</span
                >
              </a>

              <div id="licenseFragment" class="categoryContent">
                <div class="fragmentEmptyItem">
                  <div id="mms_gen_ctlid_10000" class="mmsMsgBody mmsInfoSmall">
                    <table cellpadding="0" cellspacing="0" class="mmsMsgWindow">
                      <tbody>
                        <tr>
                          <td class="mmsMsgSign"><div></div></td>
                          <td
                            id="mms_gen_ctlid_10000_content"
                            class="mmsMsgText"
                          >
                            No licensed assets found
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <script type="text/javascript">
                    var msgsDiv_mms_gen_ctlid_10000 = document.getElementById(
                      "mms_gen_ctlid_10000"
                    );
                    var msgsContentElement_mms_gen_ctlid_10000 =
                      document.getElementById("mms_gen_ctlid_10000_content");

                    function setNewMessageText_mms_gen_ctlid_10000(
                      msgText,
                      msgType
                    ) {
                      var textElement = document.createElement("p");
                      textElement.innerHTML = msgText;

                      if (
                        msgsContentElement_mms_gen_ctlid_10000.hasChildNodes()
                      ) {
                        msgsContentElement_mms_gen_ctlid_10000.innerHTML = "";
                      }

                      msgsContentElement_mms_gen_ctlid_10000.appendChild(
                        textElement
                      );

                      if (msgType) {
                        msgsDiv_mms_gen_ctlid_10000.className =
                          "mmsMsgBody " + msgType;
                      }

                      showMessageText_mms_gen_ctlid_10000();
                    }

                    function appendNewMessageText_mms_gen_ctlid_10000(msgText) {
                      var textElement = document.createElement("p");
                      textElement.textContent = msgText; // FF
                      textElement.innerText = msgText; // IE

                      msgsContentElement_mms_gen_ctlid_10000.appendChild(
                        textElement
                      );
                    }

                    function showMessageText_mms_gen_ctlid_10000() {
                      msgsDiv_mms_gen_ctlid_10000.style.display = "";
                    }

                    function hideMessageText_mms_gen_ctlid_10000() {
                      msgsDiv_mms_gen_ctlid_10000.style.display = "none";
                    }

                    // CAUTION - last mms-msg tag will override methods before him!
                    // for more that one error message per page user unique ids and methods with id
                    function setNewMessageText(msgText, msgType) {
                      return setNewMessageText_mms_gen_ctlid_10000(
                        msgText,
                        msgType
                      );
                    }

                    function appendNewMessageText(msgText) {
                      return appendNewMessageText_mms_gen_ctlid_10000(msgText);
                    }

                    function showMessageText() {
                      return showMessageText_mms_gen_ctlid_10000();
                    }

                    function hideMessageText() {
                      return hideMessageText_mms_gen_ctlid_10000();
                    }
                  </script>
                </div>

                <div class="fragmentFilledItem">
                  <div
                    id="licenseFragmentItem_618187_0"
                    class="licenseFragmentItemSelector"
                  >
                    <div
                      class="objectDetailedView objectDetailedViewWithFooter"
                    >
                      <div class="border">
                        <div
                          id="mediaTooltipContainer_618187"
                          class="wzTooltipContainer"
                          style="display: none"
                        >
                          <div class="mediaTooltip">
                            <div
                              id="ttPreviewImageContainer_618187"
                              class="ttPreviewImageContainer"
                            >
                              <table
                                class="previewTable"
                                cellpadding="0"
                                cellspacing="0"
                                border="0"
                              >
                                <tbody>
                                  <tr>
                                    <td
                                      id="mediaTooltipPreviewContainer_618187"
                                    >
                                      <img
                                        src="/GetMediaPreview.do?mediaGUID=618187&amp;versionNumber=0&amp;cache=true&amp;background=true&amp;border=true&amp;useAlternativePreview=false&amp;skin=protech&amp;mediaPreviewType=middle"
                                        border="0"
                                        class="preview"
                                        alt="STOCK 2169656369.jpg"
                                        onerror="brandmakerDefaultImgOnErrorHandler(this);"
                                      />
                                    </td>
                                  </tr>
                                </tbody>
                              </table>
                              <span class="licenceSpanContainer"></span>
                            </div>

                            <script type="text/javascript">
                              if (!isDefined(window, "currentImageHtmls")) {
                                currentImageHtmls = new Object();
                              }
                              if (
                                !isDefined(window, "currentLicenseIconsHtmls")
                              ) {
                                currentLicenseIconsHtmls = new Object();
                              }

                              if (
                                typeof loadTooltipPreviewImage == "undefined"
                              ) {
                                loadTooltipPreviewImage = function (imageID) {
                                  var imageHolder = Ext.fly(
                                    "mediaTooltipPreviewContainer_" + imageID
                                  );

                                  if (
                                    imageHolder
                                      .select(".pleaseWaitImg")
                                      .getCount() != 0
                                  ) {
                                    //place preview image
                                    imageHolder.dom.innerHTML =
                                      currentImageHtmls[imageID];

                                    //place license icon
                                    if (
                                      imageHolder
                                        .select(".licenceSpanContainer")
                                        .getCount() == 0
                                    ) {
                                      var licenseIconConainer =
                                        document.createElement("span");
                                      licenseIconConainer.className =
                                        "licenceSpanContainer";
                                      licenseIconConainer.innerHTML =
                                        currentLicenseIconsHtmls[imageID];
                                      Ext.fly(
                                        "ttPreviewImageContainer_" + imageID
                                      ).dom.appendChild(licenseIconConainer);
                                    }
                                  }
                                };
                              }

                              if (typeof onMediaPreviewError == "undefined") {
                                onMediaPreviewError = function (img) {
                                  if (img) {
                                    if (typeof img == "string") {
                                      img = getEl(img);

                                      if (!img) {
                                        return;
                                      }
                                    }

                                    if (img.tagName.toUpperCase() != "TD") {
                                      var imgContainer =
                                        Ext.fly(img).parent("TD");
                                    } else {
                                      var imgContainer = Ext.fly(img);
                                    }

                                    if (
                                      imgContainer &&
                                      imgContainer
                                        .select(".noPreviewTextContainer")
                                        .getCount() == 0
                                    ) {
                                      imgContainer
                                        .select(".preview")
                                        .setDisplayed(false);

                                      //add the missing preview text to container
                                      if (!Ext.isIE) {
                                        imgContainer.createChild({
                                          tag: "span",
                                          cls: "noPreviewTextContainer",
                                          html: "No preview available.",
                                        });
                                      } else {
                                        imgContainer.createChild({
                                          tag: "table",
                                          cls: "noPreviewTextContainer",
                                          html: "<tr><td>No preview available.</td></tr>",
                                          cellpadding: 0,
                                          cellspacing: 0,
                                          border: 0,
                                        });
                                      }
                                    }
                                  }
                                };
                              }

                              if (typeof onPreviewError == "undefined") {
                                onPreviewError = function (
                                  mediaGuid,
                                  version,
                                  listSuffix
                                ) {
                                  var elementIdString = mediaGuid;

                                  if (version != null) {
                                    elementIdString += "_" + version;
                                  }

                                  if (listSuffix) {
                                    elementIdString += listSuffix;
                                  }

                                  onMediaPreviewError(
                                    "imageHolder_" + elementIdString
                                  );

                                  var tooltipImageHolderId =
                                    "mediaTooltipPreviewContainer_" +
                                    elementIdString;
                                  var holderElement =
                                    getEl(tooltipImageHolderId);
                                  if (holderElement) {
                                    holderElement.innerHTML = "";
                                    onMediaPreviewError(tooltipImageHolderId);
                                  }
                                };
                              }
                            </script>

                            <script type="text/javascript">
                              var imageID = "618187";
                              var previewData =
                                '<img src="\/GetMediaPreview.do?mediaGUID=618187&versionNumber=0&cache=true&background=true&border=true&useAlternativePreview=false&skin=protech&mediaPreviewType=middle" border="0" class="preview" alt="STOCK 2169656369.jpg" onerror="brandmakerDefaultImgOnErrorHandler(this);" >';
                              currentImageHtmls[imageID] = previewData;
                              currentLicenseIconsHtmls[imageID] = "";
                            </script>

                            <p class="mediaTitle shrinkedText">
                              STOCK 2169656369.jpg
                            </p>
                            <p>10052 KB | jpg</p>
                            <p>10/02/2025</p>
                            <p>ID: M-618187 | VDB: 00_Public</p>
                            <p>Image</p>
                          </div>
                        </div>

                        <div class="previewTableContainer">
                          <table
                            id="previewTable_618187"
                            class="previewTable"
                            cellpadding="0"
                            cellspacing="0"
                            border="0"
                            onmouseover="loadTooltipPreviewImage('618187');
							 customTagToTip('mediaTooltipContainer_618187', 'previewTable_618187');"
                            onmouseout="UnTip()"
                          >
                            <tbody>
                              <tr>
                                <script type="text/javascript">
                                  if (!isDefined(window, "currentImageHtmls")) {
                                    currentImageHtmls = new Object();
                                  }
                                  if (
                                    !isDefined(
                                      window,
                                      "currentLicenseIconsHtmls"
                                    )
                                  ) {
                                    currentLicenseIconsHtmls = new Object();
                                  }

                                  if (
                                    typeof loadTooltipPreviewImage ==
                                    "undefined"
                                  ) {
                                    loadTooltipPreviewImage = function (
                                      imageID
                                    ) {
                                      var imageHolder = Ext.fly(
                                        "mediaTooltipPreviewContainer_" +
                                          imageID
                                      );

                                      if (
                                        imageHolder
                                          .select(".pleaseWaitImg")
                                          .getCount() != 0
                                      ) {
                                        //place preview image
                                        imageHolder.dom.innerHTML =
                                          currentImageHtmls[imageID];

                                        //place license icon
                                        if (
                                          imageHolder
                                            .select(".licenceSpanContainer")
                                            .getCount() == 0
                                        ) {
                                          var licenseIconConainer =
                                            document.createElement("span");
                                          licenseIconConainer.className =
                                            "licenceSpanContainer";
                                          licenseIconConainer.innerHTML =
                                            currentLicenseIconsHtmls[imageID];
                                          Ext.fly(
                                            "ttPreviewImageContainer_" + imageID
                                          ).dom.appendChild(
                                            licenseIconConainer
                                          );
                                        }
                                      }
                                    };
                                  }

                                  if (
                                    typeof onMediaPreviewError == "undefined"
                                  ) {
                                    onMediaPreviewError = function (img) {
                                      if (img) {
                                        if (typeof img == "string") {
                                          img = getEl(img);

                                          if (!img) {
                                            return;
                                          }
                                        }

                                        if (img.tagName.toUpperCase() != "TD") {
                                          var imgContainer =
                                            Ext.fly(img).parent("TD");
                                        } else {
                                          var imgContainer = Ext.fly(img);
                                        }

                                        if (
                                          imgContainer &&
                                          imgContainer
                                            .select(".noPreviewTextContainer")
                                            .getCount() == 0
                                        ) {
                                          imgContainer
                                            .select(".preview")
                                            .setDisplayed(false);

                                          //add the missing preview text to container
                                          if (!Ext.isIE) {
                                            imgContainer.createChild({
                                              tag: "span",
                                              cls: "noPreviewTextContainer",
                                              html: "No preview available.",
                                            });
                                          } else {
                                            imgContainer.createChild({
                                              tag: "table",
                                              cls: "noPreviewTextContainer",
                                              html: "<tr><td>No preview available.</td></tr>",
                                              cellpadding: 0,
                                              cellspacing: 0,
                                              border: 0,
                                            });
                                          }
                                        }
                                      }
                                    };
                                  }

                                  if (typeof onPreviewError == "undefined") {
                                    onPreviewError = function (
                                      mediaGuid,
                                      version,
                                      listSuffix
                                    ) {
                                      var elementIdString = mediaGuid;

                                      if (version != null) {
                                        elementIdString += "_" + version;
                                      }

                                      if (listSuffix) {
                                        elementIdString += listSuffix;
                                      }

                                      onMediaPreviewError(
                                        "imageHolder_" + elementIdString
                                      );

                                      var tooltipImageHolderId =
                                        "mediaTooltipPreviewContainer_" +
                                        elementIdString;
                                      var holderElement =
                                        getEl(tooltipImageHolderId);
                                      if (holderElement) {
                                        holderElement.innerHTML = "";
                                        onMediaPreviewError(
                                          tooltipImageHolderId
                                        );
                                      }
                                    };
                                  }
                                </script>

                                <td
                                  id="imageHolder_618187"
                                  onclick="popup('/MediaDetails.do?mediaGUID=618187','', window.innerWidth, window.innerHeight); highlightMediaItem(618187, 'objectCreativeView');"
                                >
                                  <img
                                    src="/GetMediaPreview.do?mediaGUID=618187&amp;versionNumber=0&amp;cache=true&amp;background=true&amp;border=true&amp;useAlternativePreview=false&amp;skin=protech&amp;mediaPreviewType=thumbnail"
                                    border="0"
                                    id="previewImage_618187"
                                    class="preview"
                                    title=""
                                    alt=""
                                    onerror="onPreviewError(618187, null,'')"
                                  />
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>

                        <div id="objectTitle_618187" class="objectTitle">
                          <p class="title title--link">
                            <a
                              href="javascript:;"
                              class="popupLink"
                              onclick="highlightMediaItem(618187, 'objectDetailedView');popup('/MediaDetails.do?mediaGUID=618187','', window.innerWidth, window.innerHeight);"
                              title="STOCK 2169656369.jpg"
                              >STOCK 2169656369.jpg</a
                            >
                          </p>
                        </div>

                        <div class="contentDiv">
                          <table class="contentDivMD">
                            <tbody>
                              <tr>
                                <td>
                                  <div class="leftPartCustomized">
                                    <div class="detailsGroup">
                                      <span class="detailEl"
                                        >5712 x 3808 px</span
                                      ><span class="detailEl"> | </span
                                      ><span class="detailEl">300 dpi</span
                                      ><span class="detailEl"> | </span
                                      ><span class="detailEl">10052 kb</span
                                      ><span class="detailEl"> | </span
                                      ><span class="detailEl"
                                        >24 Bit - sRGB</span
                                      >
                                    </div>
                                    <div class="detailsGroup">
                                      <span class="detailEl"
                                        >Uptempo-Sync, Shutterstock -
                                        MediaServices Project Providers</span
                                      ><span class="detailEl"> | </span
                                      ><span class="detailEl">10/02/2025</span>
                                    </div>
                                    <div class="detailsGroup">
                                      <span class="detailEl">ID: M-618187</span
                                      ><span class="detailEl"> | </span
                                      ><span class="detailEl"
                                        >VDB: 00_Public</span
                                      >
                                    </div>
                                    <div class="detailsGroup">
                                      <span class="detailEl"
                                        >Asset validity: unlimited</span
                                      >
                                    </div>
                                  </div>
                                </td>
                                <td>
                                  <div class="rightPartCustomized">
                                    <div class="detailsGroup">
                                      <span class="detailEl">Image: jpg</span>
                                    </div>
                                    <div class="detailsGroup">
                                      <span class="detailEl"
                                        >Remarks: Russia, St. Petersburg, 17
                                        June 2022: Splashes of water in sailing
                                        regatta, teamwork in sailing yacht at
                                        stormy weather, hot pursuit, clouds
                                        sky</span
                                      >
                                    </div>
                                    <div class="detailsGroup">
                                      <div class="detailsGroup">
                                        <div class="leftLong">
                                          License type:
                                        </div>
                                        <div class="rightLong">Stock-Asset</div>
                                      </div>
                                      <div class="detailsGroup">
                                        <div class="leftLong">License:</div>
                                        <div class="rightLong">
                                          1. Unlimited Digital and Print
                                        </div>
                                      </div>
                                      <div class="detailsGroup">
                                        <div class="leftLong">
                                          Other restrictions:
                                        </div>
                                        <div class="rightLong">
                                          This stock asset may be used worldwide
                                          for all ZF communication in
                                          perpetuity. It must not be
                                          redistributed or sublicensed to third
                                          parties. External service providers
                                          (e.g. agencies) may receive the
                                          material for use in ZF-related
                                          projects only. All final ZF
                                          communication media and creative work
                                          including this material (campaigns,
                                          documents, layouts, presentations,
                                          print and advertising products, etc.)
                                          are ready for unlimited distribution
                                          worldwide in all media including
                                          Social Media.
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                        <div class="cleaner"></div>

                        <a
                          onclick="bm6Menu.show(this, 'contextMenu_licensed_618187')"
                          class="icon contextMenuButton"
                          id="textIcon_618187"
                          href="javascript:void(0);"
                        ></a>
                      </div>
                    </div>

                    <div class="simpleForm objectDetailedViewFooter">
                      <span
                        class="checkbox checked"
                        id="licenseAgree_618187_0_CheckBox_Span"
                      ></span
                      ><input
                        id="licenseAgree_618187_0"
                        value="618187_0"
                        type="checkbox"
                        class="checkbox styled licenseFragmentItemCheckboxSelector"
                        onclick="LicensedMediasManager.licenseCheckboxClicked(618187, 0); return true;"
                      />
                      <label for="licenseAgree_618187_0"
                        >I have read the licensing terms and will follow them
                        (requirement for using the asset.)</label
                      >
                    </div>

                    <a
                      class="actionButton floatRight"
                      onclick="LicensedMediasManager.applyForLicenseExtension(618187,0)"
                      href="#blank"
                      >Apply for license extension</a
                    >

                    <div class="cleaner"></div>
                  </div>

                  <div
                    id="contextMenu_licensed_618187"
                    class="contextMenu2OneCol"
                  >
                    <div class="CMSection" style="display: block">
                      <h3>Details</h3>
                      <div class="cmLeftColumn">
                        <a
                          href="#blank"
                          onclick="LicensedMediasManager.removeMedia(618187, 0)"
                          class="contextMenuItem"
                          style="display: block"
                        >
                          <img
                            class="iconDelete2"
                            src="/extjs/images/gray/s.gif"
                            border="0"
                          />
                          <table class="linkText">
                            <tbody>
                              <tr>
                                <td>Remove</td>
                              </tr>
                            </tbody>
                          </table>
                        </a>

                        <a
                          href="#blank"
                          onclick="LicensedMediasManager.openMediaDetailsPopup(618187, 0)"
                          class="contextMenuItem openMediaDetailsButtonSelector"
                          style="display: block"
                        >
                          <img
                            class="iconOpen"
                            src="/extjs/images/gray/s.gif"
                            border="0"
                          />
                          <table class="linkText">
                            <tbody>
                              <tr>
                                <td>Open</td>
                              </tr>
                            </tbody>
                          </table>
                        </a>

                        <a
                          href="#blank"
                          onclick="LicensedMediasManager.openMediaEditBeforeDownloadPopup(618187, 0)"
                          class="contextMenuItem openEditMediaButtonSelector hiddenElement"
                          style="display: block"
                        >
                          <img
                            class="iconEdit2"
                            src="/extjs/images/gray/s.gif"
                            border="0"
                          />
                          <table class="linkText">
                            <tbody>
                              <tr>
                                <td>Edit</td>
                              </tr>
                            </tbody>
                          </table>
                        </a>
                        <a
                          id="linkStartTranscoding_618187_0"
                          href="#blank"
                          onclick="DownloadSelection.addVideoTranscodingProfileToQueue(618187, 0)"
                          class="contextMenuItem openEditMediaButtonSelector"
                          style="display: none"
                        >
                          <img
                            class="iconAddTranscoding"
                            src="/extjs/images/gray/s.gif"
                            border="0"
                          />
                          <table class="linkText">
                            <tbody>
                              <tr>
                                <td>Add to video transcoding</td>
                              </tr>
                            </tbody>
                          </table>
                        </a>

                        <a
                          id="linkAddTranscodingNotify_618187_0"
                          href="#blank"
                          onclick="DownloadSelection.addTranscodingWatcher(618187, 0)"
                          class="contextMenuItem openEditMediaButtonSelector"
                          style="display: none"
                        >
                          <img
                            class="iconNotifyTransocoding"
                            src="/extjs/images/gray/s.gif"
                            border="0"
                          />
                          <table class="linkText">
                            <tbody>
                              <tr>
                                <td>Notify after transcoding</td>
                              </tr>
                            </tbody>
                          </table>
                        </a>

                        <a
                          id="linkRemoveTranscodingNotify_618187_0"
                          href="#blank"
                          onclick="DownloadSelection.removeTranscodingWatcher(618187, 0)"
                          class="contextMenuItem openEditMediaButtonSelector"
                          style="display: none"
                        >
                          <img
                            class="iconNoNotifyTransocoding"
                            src="/extjs/images/gray/s.gif"
                            border="0"
                          />
                          <table class="linkText">
                            <tbody>
                              <tr>
                                <td>Remove notification</td>
                              </tr>
                            </tbody>
                          </table>
                        </a>
                      </div>
                    </div>
                    <div class="closeButton"></div>
                  </div>

                  <div
                    id="licenseFragmentItem_618185_0"
                    class="licenseFragmentItemSelector"
                  >
                    <div
                      class="objectDetailedView objectDetailedViewWithFooter"
                    >
                      <div class="border">
                        <div
                          id="mediaTooltipContainer_618185"
                          class="wzTooltipContainer"
                          style="display: none"
                        >
                          <div class="mediaTooltip">
                            <div
                              id="ttPreviewImageContainer_618185"
                              class="ttPreviewImageContainer"
                            >
                              <table
                                class="previewTable"
                                cellpadding="0"
                                cellspacing="0"
                                border="0"
                              >
                                <tbody>
                                  <tr>
                                    <td
                                      id="mediaTooltipPreviewContainer_618185"
                                    >
                                      <img
                                        class="pleaseWaitImg"
                                        src="/images/please_wait.gif"
                                      />
                                    </td>
                                  </tr>
                                </tbody>
                              </table>
                            </div>

                            <script type="text/javascript">
                              if (!isDefined(window, "currentImageHtmls")) {
                                currentImageHtmls = new Object();
                              }
                              if (
                                !isDefined(window, "currentLicenseIconsHtmls")
                              ) {
                                currentLicenseIconsHtmls = new Object();
                              }

                              if (
                                typeof loadTooltipPreviewImage == "undefined"
                              ) {
                                loadTooltipPreviewImage = function (imageID) {
                                  var imageHolder = Ext.fly(
                                    "mediaTooltipPreviewContainer_" + imageID
                                  );

                                  if (
                                    imageHolder
                                      .select(".pleaseWaitImg")
                                      .getCount() != 0
                                  ) {
                                    //place preview image
                                    imageHolder.dom.innerHTML =
                                      currentImageHtmls[imageID];

                                    //place license icon
                                    if (
                                      imageHolder
                                        .select(".licenceSpanContainer")
                                        .getCount() == 0
                                    ) {
                                      var licenseIconConainer =
                                        document.createElement("span");
                                      licenseIconConainer.className =
                                        "licenceSpanContainer";
                                      licenseIconConainer.innerHTML =
                                        currentLicenseIconsHtmls[imageID];
                                      Ext.fly(
                                        "ttPreviewImageContainer_" + imageID
                                      ).dom.appendChild(licenseIconConainer);
                                    }
                                  }
                                };
                              }

                              if (typeof onMediaPreviewError == "undefined") {
                                onMediaPreviewError = function (img) {
                                  if (img) {
                                    if (typeof img == "string") {
                                      img = getEl(img);

                                      if (!img) {
                                        return;
                                      }
                                    }

                                    if (img.tagName.toUpperCase() != "TD") {
                                      var imgContainer =
                                        Ext.fly(img).parent("TD");
                                    } else {
                                      var imgContainer = Ext.fly(img);
                                    }

                                    if (
                                      imgContainer &&
                                      imgContainer
                                        .select(".noPreviewTextContainer")
                                        .getCount() == 0
                                    ) {
                                      imgContainer
                                        .select(".preview")
                                        .setDisplayed(false);

                                      //add the missing preview text to container
                                      if (!Ext.isIE) {
                                        imgContainer.createChild({
                                          tag: "span",
                                          cls: "noPreviewTextContainer",
                                          html: "No preview available.",
                                        });
                                      } else {
                                        imgContainer.createChild({
                                          tag: "table",
                                          cls: "noPreviewTextContainer",
                                          html: "<tr><td>No preview available.</td></tr>",
                                          cellpadding: 0,
                                          cellspacing: 0,
                                          border: 0,
                                        });
                                      }
                                    }
                                  }
                                };
                              }

                              if (typeof onPreviewError == "undefined") {
                                onPreviewError = function (
                                  mediaGuid,
                                  version,
                                  listSuffix
                                ) {
                                  var elementIdString = mediaGuid;

                                  if (version != null) {
                                    elementIdString += "_" + version;
                                  }

                                  if (listSuffix) {
                                    elementIdString += listSuffix;
                                  }

                                  onMediaPreviewError(
                                    "imageHolder_" + elementIdString
                                  );

                                  var tooltipImageHolderId =
                                    "mediaTooltipPreviewContainer_" +
                                    elementIdString;
                                  var holderElement =
                                    getEl(tooltipImageHolderId);
                                  if (holderElement) {
                                    holderElement.innerHTML = "";
                                    onMediaPreviewError(tooltipImageHolderId);
                                  }
                                };
                              }
                            </script>

                            <script type="text/javascript">
                              var imageID = "618185";
                              var previewData =
                                '<img src="\/GetMediaPreview.do?mediaGUID=618185&versionNumber=0&cache=true&background=true&border=true&useAlternativePreview=false&skin=protech&mediaPreviewType=middle" border="0" class="preview" alt="STOCK 2586550015.jpg" onerror="brandmakerDefaultImgOnErrorHandler(this);" >';
                              currentImageHtmls[imageID] = previewData;
                              currentLicenseIconsHtmls[imageID] = "";
                            </script>

                            <p class="mediaTitle shrinkedText">
                              STOCK 2586550015.jpg
                            </p>
                            <p>13639 KB | jpg</p>
                            <p>10/02/2025</p>
                            <p>ID: M-618185 | VDB: 00_Public</p>
                            <p>Image</p>
                          </div>
                        </div>

                        <div class="previewTableContainer">
                          <table
                            id="previewTable_618185"
                            class="previewTable"
                            cellpadding="0"
                            cellspacing="0"
                            border="0"
                            onmouseover="loadTooltipPreviewImage('618185');
							 customTagToTip('mediaTooltipContainer_618185', 'previewTable_618185');"
                            onmouseout="UnTip()"
                          >
                            <tbody>
                              <tr>
                                <script type="text/javascript">
                                  if (!isDefined(window, "currentImageHtmls")) {
                                    currentImageHtmls = new Object();
                                  }
                                  if (
                                    !isDefined(
                                      window,
                                      "currentLicenseIconsHtmls"
                                    )
                                  ) {
                                    currentLicenseIconsHtmls = new Object();
                                  }

                                  if (
                                    typeof loadTooltipPreviewImage ==
                                    "undefined"
                                  ) {
                                    loadTooltipPreviewImage = function (
                                      imageID
                                    ) {
                                      var imageHolder = Ext.fly(
                                        "mediaTooltipPreviewContainer_" +
                                          imageID
                                      );

                                      if (
                                        imageHolder
                                          .select(".pleaseWaitImg")
                                          .getCount() != 0
                                      ) {
                                        //place preview image
                                        imageHolder.dom.innerHTML =
                                          currentImageHtmls[imageID];

                                        //place license icon
                                        if (
                                          imageHolder
                                            .select(".licenceSpanContainer")
                                            .getCount() == 0
                                        ) {
                                          var licenseIconConainer =
                                            document.createElement("span");
                                          licenseIconConainer.className =
                                            "licenceSpanContainer";
                                          licenseIconConainer.innerHTML =
                                            currentLicenseIconsHtmls[imageID];
                                          Ext.fly(
                                            "ttPreviewImageContainer_" + imageID
                                          ).dom.appendChild(
                                            licenseIconConainer
                                          );
                                        }
                                      }
                                    };
                                  }

                                  if (
                                    typeof onMediaPreviewError == "undefined"
                                  ) {
                                    onMediaPreviewError = function (img) {
                                      if (img) {
                                        if (typeof img == "string") {
                                          img = getEl(img);

                                          if (!img) {
                                            return;
                                          }
                                        }

                                        if (img.tagName.toUpperCase() != "TD") {
                                          var imgContainer =
                                            Ext.fly(img).parent("TD");
                                        } else {
                                          var imgContainer = Ext.fly(img);
                                        }

                                        if (
                                          imgContainer &&
                                          imgContainer
                                            .select(".noPreviewTextContainer")
                                            .getCount() == 0
                                        ) {
                                          imgContainer
                                            .select(".preview")
                                            .setDisplayed(false);

                                          //add the missing preview text to container
                                          if (!Ext.isIE) {
                                            imgContainer.createChild({
                                              tag: "span",
                                              cls: "noPreviewTextContainer",
                                              html: "No preview available.",
                                            });
                                          } else {
                                            imgContainer.createChild({
                                              tag: "table",
                                              cls: "noPreviewTextContainer",
                                              html: "<tr><td>No preview available.</td></tr>",
                                              cellpadding: 0,
                                              cellspacing: 0,
                                              border: 0,
                                            });
                                          }
                                        }
                                      }
                                    };
                                  }

                                  if (typeof onPreviewError == "undefined") {
                                    onPreviewError = function (
                                      mediaGuid,
                                      version,
                                      listSuffix
                                    ) {
                                      var elementIdString = mediaGuid;

                                      if (version != null) {
                                        elementIdString += "_" + version;
                                      }

                                      if (listSuffix) {
                                        elementIdString += listSuffix;
                                      }

                                      onMediaPreviewError(
                                        "imageHolder_" + elementIdString
                                      );

                                      var tooltipImageHolderId =
                                        "mediaTooltipPreviewContainer_" +
                                        elementIdString;
                                      var holderElement =
                                        getEl(tooltipImageHolderId);
                                      if (holderElement) {
                                        holderElement.innerHTML = "";
                                        onMediaPreviewError(
                                          tooltipImageHolderId
                                        );
                                      }
                                    };
                                  }
                                </script>

                                <td
                                  id="imageHolder_618185"
                                  onclick="popup('/MediaDetails.do?mediaGUID=618185','', window.innerWidth, window.innerHeight); highlightMediaItem(618185, 'objectCreativeView');"
                                >
                                  <img
                                    src="/GetMediaPreview.do?mediaGUID=618185&amp;versionNumber=0&amp;cache=true&amp;background=true&amp;border=true&amp;useAlternativePreview=false&amp;skin=protech&amp;mediaPreviewType=thumbnail"
                                    border="0"
                                    id="previewImage_618185"
                                    class="preview"
                                    title="STOCK 2586550015.jpg"
                                    alt="STOCK 2586550015.jpg"
                                    onerror="onPreviewError(618185, null,'')"
                                  />
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>

                        <div id="objectTitle_618185" class="objectTitle">
                          <p class="title title--link">
                            <a
                              href="javascript:;"
                              class="popupLink"
                              onclick="highlightMediaItem(618185, 'objectDetailedView');popup('/MediaDetails.do?mediaGUID=618185','', window.innerWidth, window.innerHeight);"
                              title="STOCK 2586550015.jpg"
                              >STOCK 2586550015.jpg</a
                            >
                          </p>
                        </div>

                        <div class="contentDiv">
                          <table class="contentDivMD">
                            <tbody>
                              <tr>
                                <td>
                                  <div class="leftPartCustomized">
                                    <div class="detailsGroup">
                                      <span class="detailEl"
                                        >6720 x 4480 px</span
                                      ><span class="detailEl"> | </span
                                      ><span class="detailEl">300 dpi</span
                                      ><span class="detailEl"> | </span
                                      ><span class="detailEl">13639 kb</span
                                      ><span class="detailEl"> | </span
                                      ><span class="detailEl"
                                        >24 Bit - sRGB</span
                                      >
                                    </div>
                                    <div class="detailsGroup">
                                      <span class="detailEl"
                                        >Uptempo-Sync, Shutterstock -
                                        MediaServices Project Providers</span
                                      ><span class="detailEl"> | </span
                                      ><span class="detailEl">10/02/2025</span>
                                    </div>
                                    <div class="detailsGroup">
                                      <span class="detailEl">ID: M-618185</span
                                      ><span class="detailEl"> | </span
                                      ><span class="detailEl"
                                        >VDB: 00_Public</span
                                      >
                                    </div>
                                    <div class="detailsGroup">
                                      <span class="detailEl"
                                        >Asset validity: unlimited</span
                                      >
                                    </div>
                                  </div>
                                </td>
                                <td>
                                  <div class="rightPartCustomized">
                                    <div class="detailsGroup">
                                      <span class="detailEl">Image: jpg</span>
                                    </div>
                                    <div class="detailsGroup">
                                      <span class="detailEl"
                                        >Remarks: speed sports car luxurious
                                        life</span
                                      >
                                    </div>
                                    <div class="detailsGroup">
                                      <div class="detailsGroup">
                                        <div class="leftLong">
                                          License type:
                                        </div>
                                        <div class="rightLong">Stock-Asset</div>
                                      </div>
                                      <div class="detailsGroup">
                                        <div class="leftLong">License:</div>
                                        <div class="rightLong">
                                          1. Unlimited Digital and Print
                                        </div>
                                      </div>
                                      <div class="detailsGroup">
                                        <div class="leftLong">
                                          Other restrictions:
                                        </div>
                                        <div class="rightLong">
                                          This stock asset may be used worldwide
                                          for all ZF communication in
                                          perpetuity. It must not be
                                          redistributed or sublicensed to third
                                          parties. External service providers
                                          (e.g. agencies) may receive the
                                          material for use in ZF-related
                                          projects only. All final ZF
                                          communication media and creative work
                                          including this material (campaigns,
                                          documents, layouts, presentations,
                                          print and advertising products, etc.)
                                          are ready for unlimited distribution
                                          worldwide in all media including
                                          Social Media.
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                        <div class="cleaner"></div>

                        <a
                          onclick="bm6Menu.show(this, 'contextMenu_licensed_618185')"
                          class="icon contextMenuButton"
                          id="textIcon_618185"
                          href="javascript:void(0);"
                        ></a>
                      </div>
                    </div>

                    <div class="simpleForm objectDetailedViewFooter">
                      <span
                        class="checkbox checked"
                        id="licenseAgree_618185_0_CheckBox_Span"
                      ></span
                      ><input
                        id="licenseAgree_618185_0"
                        value="618185_0"
                        type="checkbox"
                        class="checkbox styled licenseFragmentItemCheckboxSelector"
                        onclick="LicensedMediasManager.licenseCheckboxClicked(618185, 0); return true;"
                      />
                      <label for="licenseAgree_618185_0"
                        >I have read the licensing terms and will follow them
                        (requirement for using the asset.)</label
                      >
                    </div>

                    <a
                      class="actionButton floatRight"
                      onclick="LicensedMediasManager.applyForLicenseExtension(618185,0)"
                      href="#blank"
                      >Apply for license extension</a
                    >

                    <div class="cleaner"></div>
                  </div>

                  <div
                    id="contextMenu_licensed_618185"
                    class="contextMenu2OneCol"
                  >
                    <div class="CMSection" style="display: block">
                      <h3>Details</h3>
                      <div class="cmLeftColumn">
                        <a
                          href="#blank"
                          onclick="LicensedMediasManager.removeMedia(618185, 0)"
                          class="contextMenuItem"
                          style="display: block"
                        >
                          <img
                            class="iconDelete2"
                            src="/extjs/images/gray/s.gif"
                            border="0"
                          />
                          <table class="linkText">
                            <tbody>
                              <tr>
                                <td>Remove</td>
                              </tr>
                            </tbody>
                          </table>
                        </a>

                        <a
                          href="#blank"
                          onclick="LicensedMediasManager.openMediaDetailsPopup(618185, 0)"
                          class="contextMenuItem openMediaDetailsButtonSelector"
                          style="display: block"
                        >
                          <img
                            class="iconOpen"
                            src="/extjs/images/gray/s.gif"
                            border="0"
                          />
                          <table class="linkText">
                            <tbody>
                              <tr>
                                <td>Open</td>
                              </tr>
                            </tbody>
                          </table>
                        </a>

                        <a
                          href="#blank"
                          onclick="LicensedMediasManager.openMediaEditBeforeDownloadPopup(618185, 0)"
                          class="contextMenuItem openEditMediaButtonSelector hiddenElement"
                          style="display: block"
                        >
                          <img
                            class="iconEdit2"
                            src="/extjs/images/gray/s.gif"
                            border="0"
                          />
                          <table class="linkText">
                            <tbody>
                              <tr>
                                <td>Edit</td>
                              </tr>
                            </tbody>
                          </table>
                        </a>
                        <a
                          id="linkStartTranscoding_618185_0"
                          href="#blank"
                          onclick="DownloadSelection.addVideoTranscodingProfileToQueue(618185, 0)"
                          class="contextMenuItem openEditMediaButtonSelector"
                          style="display: none"
                        >
                          <img
                            class="iconAddTranscoding"
                            src="/extjs/images/gray/s.gif"
                            border="0"
                          />
                          <table class="linkText">
                            <tbody>
                              <tr>
                                <td>Add to video transcoding</td>
                              </tr>
                            </tbody>
                          </table>
                        </a>

                        <a
                          id="linkAddTranscodingNotify_618185_0"
                          href="#blank"
                          onclick="DownloadSelection.addTranscodingWatcher(618185, 0)"
                          class="contextMenuItem openEditMediaButtonSelector"
                          style="display: none"
                        >
                          <img
                            class="iconNotifyTransocoding"
                            src="/extjs/images/gray/s.gif"
                            border="0"
                          />
                          <table class="linkText">
                            <tbody>
                              <tr>
                                <td>Notify after transcoding</td>
                              </tr>
                            </tbody>
                          </table>
                        </a>

                        <a
                          id="linkRemoveTranscodingNotify_618185_0"
                          href="#blank"
                          onclick="DownloadSelection.removeTranscodingWatcher(618185, 0)"
                          class="contextMenuItem openEditMediaButtonSelector"
                          style="display: none"
                        >
                          <img
                            class="iconNoNotifyTransocoding"
                            src="/extjs/images/gray/s.gif"
                            border="0"
                          />
                          <table class="linkText">
                            <tbody>
                              <tr>
                                <td>Remove notification</td>
                              </tr>
                            </tbody>
                          </table>
                        </a>
                      </div>
                    </div>
                    <div class="closeButton"></div>
                  </div>

                  <div
                    id="licenseFragmentItem_618186_0"
                    class="licenseFragmentItemSelector"
                  >
                    <div
                      class="objectDetailedView objectDetailedViewWithFooter"
                    >
                      <div class="border">
                        <div
                          id="mediaTooltipContainer_618186"
                          class="wzTooltipContainer"
                          style="display: none"
                        >
                          <div class="mediaTooltip">
                            <div
                              id="ttPreviewImageContainer_618186"
                              class="ttPreviewImageContainer"
                            >
                              <table
                                class="previewTable"
                                cellpadding="0"
                                cellspacing="0"
                                border="0"
                              >
                                <tbody>
                                  <tr>
                                    <td
                                      id="mediaTooltipPreviewContainer_618186"
                                    >
                                      <img
                                        src="/GetMediaPreview.do?mediaGUID=618186&amp;versionNumber=0&amp;cache=true&amp;background=true&amp;border=true&amp;useAlternativePreview=false&amp;skin=protech&amp;mediaPreviewType=middle"
                                        border="0"
                                        class="preview"
                                        alt="STOCK 2525402267.jpg"
                                        onerror="brandmakerDefaultImgOnErrorHandler(this);"
                                      />
                                    </td>
                                  </tr>
                                </tbody>
                              </table>
                              <span class="licenceSpanContainer"></span>
                            </div>

                            <script type="text/javascript">
                              if (!isDefined(window, "currentImageHtmls")) {
                                currentImageHtmls = new Object();
                              }
                              if (
                                !isDefined(window, "currentLicenseIconsHtmls")
                              ) {
                                currentLicenseIconsHtmls = new Object();
                              }

                              if (
                                typeof loadTooltipPreviewImage == "undefined"
                              ) {
                                loadTooltipPreviewImage = function (imageID) {
                                  var imageHolder = Ext.fly(
                                    "mediaTooltipPreviewContainer_" + imageID
                                  );

                                  if (
                                    imageHolder
                                      .select(".pleaseWaitImg")
                                      .getCount() != 0
                                  ) {
                                    //place preview image
                                    imageHolder.dom.innerHTML =
                                      currentImageHtmls[imageID];

                                    //place license icon
                                    if (
                                      imageHolder
                                        .select(".licenceSpanContainer")
                                        .getCount() == 0
                                    ) {
                                      var licenseIconConainer =
                                        document.createElement("span");
                                      licenseIconConainer.className =
                                        "licenceSpanContainer";
                                      licenseIconConainer.innerHTML =
                                        currentLicenseIconsHtmls[imageID];
                                      Ext.fly(
                                        "ttPreviewImageContainer_" + imageID
                                      ).dom.appendChild(licenseIconConainer);
                                    }
                                  }
                                };
                              }

                              if (typeof onMediaPreviewError == "undefined") {
                                onMediaPreviewError = function (img) {
                                  if (img) {
                                    if (typeof img == "string") {
                                      img = getEl(img);

                                      if (!img) {
                                        return;
                                      }
                                    }

                                    if (img.tagName.toUpperCase() != "TD") {
                                      var imgContainer =
                                        Ext.fly(img).parent("TD");
                                    } else {
                                      var imgContainer = Ext.fly(img);
                                    }

                                    if (
                                      imgContainer &&
                                      imgContainer
                                        .select(".noPreviewTextContainer")
                                        .getCount() == 0
                                    ) {
                                      imgContainer
                                        .select(".preview")
                                        .setDisplayed(false);

                                      //add the missing preview text to container
                                      if (!Ext.isIE) {
                                        imgContainer.createChild({
                                          tag: "span",
                                          cls: "noPreviewTextContainer",
                                          html: "No preview available.",
                                        });
                                      } else {
                                        imgContainer.createChild({
                                          tag: "table",
                                          cls: "noPreviewTextContainer",
                                          html: "<tr><td>No preview available.</td></tr>",
                                          cellpadding: 0,
                                          cellspacing: 0,
                                          border: 0,
                                        });
                                      }
                                    }
                                  }
                                };
                              }

                              if (typeof onPreviewError == "undefined") {
                                onPreviewError = function (
                                  mediaGuid,
                                  version,
                                  listSuffix
                                ) {
                                  var elementIdString = mediaGuid;

                                  if (version != null) {
                                    elementIdString += "_" + version;
                                  }

                                  if (listSuffix) {
                                    elementIdString += listSuffix;
                                  }

                                  onMediaPreviewError(
                                    "imageHolder_" + elementIdString
                                  );

                                  var tooltipImageHolderId =
                                    "mediaTooltipPreviewContainer_" +
                                    elementIdString;
                                  var holderElement =
                                    getEl(tooltipImageHolderId);
                                  if (holderElement) {
                                    holderElement.innerHTML = "";
                                    onMediaPreviewError(tooltipImageHolderId);
                                  }
                                };
                              }
                            </script>

                            <script type="text/javascript">
                              var imageID = "618186";
                              var previewData =
                                '<img src="\/GetMediaPreview.do?mediaGUID=618186&versionNumber=0&cache=true&background=true&border=true&useAlternativePreview=false&skin=protech&mediaPreviewType=middle" border="0" class="preview" alt="STOCK 2525402267.jpg" onerror="brandmakerDefaultImgOnErrorHandler(this);" >';
                              currentImageHtmls[imageID] = previewData;
                              currentLicenseIconsHtmls[imageID] = "";
                            </script>

                            <p class="mediaTitle shrinkedText">
                              STOCK 2525402267.jpg
                            </p>
                            <p>33215 KB | jpg</p>
                            <p>10/02/2025</p>
                            <p>ID: M-618186 | VDB: 00_Public</p>
                            <p>Image</p>
                          </div>
                        </div>

                        <div class="previewTableContainer">
                          <table
                            id="previewTable_618186"
                            class="previewTable"
                            cellpadding="0"
                            cellspacing="0"
                            border="0"
                            onmouseover="loadTooltipPreviewImage('618186');
							 customTagToTip('mediaTooltipContainer_618186', 'previewTable_618186');"
                            onmouseout="UnTip()"
                          >
                            <tbody>
                              <tr>
                                <script type="text/javascript">
                                  if (!isDefined(window, "currentImageHtmls")) {
                                    currentImageHtmls = new Object();
                                  }
                                  if (
                                    !isDefined(
                                      window,
                                      "currentLicenseIconsHtmls"
                                    )
                                  ) {
                                    currentLicenseIconsHtmls = new Object();
                                  }

                                  if (
                                    typeof loadTooltipPreviewImage ==
                                    "undefined"
                                  ) {
                                    loadTooltipPreviewImage = function (
                                      imageID
                                    ) {
                                      var imageHolder = Ext.fly(
                                        "mediaTooltipPreviewContainer_" +
                                          imageID
                                      );

                                      if (
                                        imageHolder
                                          .select(".pleaseWaitImg")
                                          .getCount() != 0
                                      ) {
                                        //place preview image
                                        imageHolder.dom.innerHTML =
                                          currentImageHtmls[imageID];

                                        //place license icon
                                        if (
                                          imageHolder
                                            .select(".licenceSpanContainer")
                                            .getCount() == 0
                                        ) {
                                          var licenseIconConainer =
                                            document.createElement("span");
                                          licenseIconConainer.className =
                                            "licenceSpanContainer";
                                          licenseIconConainer.innerHTML =
                                            currentLicenseIconsHtmls[imageID];
                                          Ext.fly(
                                            "ttPreviewImageContainer_" + imageID
                                          ).dom.appendChild(
                                            licenseIconConainer
                                          );
                                        }
                                      }
                                    };
                                  }

                                  if (
                                    typeof onMediaPreviewError == "undefined"
                                  ) {
                                    onMediaPreviewError = function (img) {
                                      if (img) {
                                        if (typeof img == "string") {
                                          img = getEl(img);

                                          if (!img) {
                                            return;
                                          }
                                        }

                                        if (img.tagName.toUpperCase() != "TD") {
                                          var imgContainer =
                                            Ext.fly(img).parent("TD");
                                        } else {
                                          var imgContainer = Ext.fly(img);
                                        }

                                        if (
                                          imgContainer &&
                                          imgContainer
                                            .select(".noPreviewTextContainer")
                                            .getCount() == 0
                                        ) {
                                          imgContainer
                                            .select(".preview")
                                            .setDisplayed(false);

                                          //add the missing preview text to container
                                          if (!Ext.isIE) {
                                            imgContainer.createChild({
                                              tag: "span",
                                              cls: "noPreviewTextContainer",
                                              html: "No preview available.",
                                            });
                                          } else {
                                            imgContainer.createChild({
                                              tag: "table",
                                              cls: "noPreviewTextContainer",
                                              html: "<tr><td>No preview available.</td></tr>",
                                              cellpadding: 0,
                                              cellspacing: 0,
                                              border: 0,
                                            });
                                          }
                                        }
                                      }
                                    };
                                  }

                                  if (typeof onPreviewError == "undefined") {
                                    onPreviewError = function (
                                      mediaGuid,
                                      version,
                                      listSuffix
                                    ) {
                                      var elementIdString = mediaGuid;

                                      if (version != null) {
                                        elementIdString += "_" + version;
                                      }

                                      if (listSuffix) {
                                        elementIdString += listSuffix;
                                      }

                                      onMediaPreviewError(
                                        "imageHolder_" + elementIdString
                                      );

                                      var tooltipImageHolderId =
                                        "mediaTooltipPreviewContainer_" +
                                        elementIdString;
                                      var holderElement =
                                        getEl(tooltipImageHolderId);
                                      if (holderElement) {
                                        holderElement.innerHTML = "";
                                        onMediaPreviewError(
                                          tooltipImageHolderId
                                        );
                                      }
                                    };
                                  }
                                </script>

                                <td
                                  id="imageHolder_618186"
                                  onclick="popup('/MediaDetails.do?mediaGUID=618186','', window.innerWidth, window.innerHeight); highlightMediaItem(618186, 'objectCreativeView');"
                                >
                                  <img
                                    src="/GetMediaPreview.do?mediaGUID=618186&amp;versionNumber=0&amp;cache=true&amp;background=true&amp;border=true&amp;useAlternativePreview=false&amp;skin=protech&amp;mediaPreviewType=thumbnail"
                                    border="0"
                                    id="previewImage_618186"
                                    class="preview"
                                    title=""
                                    alt=""
                                    onerror="onPreviewError(618186, null,'')"
                                  />
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>

                        <div id="objectTitle_618186" class="objectTitle">
                          <p class="title title--link">
                            <a
                              href="javascript:;"
                              class="popupLink"
                              onclick="highlightMediaItem(618186, 'objectDetailedView');popup('/MediaDetails.do?mediaGUID=618186','', window.innerWidth, window.innerHeight);"
                              title="STOCK 2525402267.jpg"
                              >STOCK 2525402267.jpg</a
                            >
                          </p>
                        </div>

                        <div class="contentDiv">
                          <table class="contentDivMD">
                            <tbody>
                              <tr>
                                <td>
                                  <div class="leftPartCustomized">
                                    <div class="detailsGroup">
                                      <span class="detailEl"
                                        >9389 x 6259 px</span
                                      ><span class="detailEl"> | </span
                                      ><span class="detailEl">300 dpi</span
                                      ><span class="detailEl"> | </span
                                      ><span class="detailEl">33215 kb</span
                                      ><span class="detailEl"> | </span
                                      ><span class="detailEl"
                                        >24 Bit - sRGB</span
                                      >
                                    </div>
                                    <div class="detailsGroup">
                                      <span class="detailEl"
                                        >Uptempo-Sync, Shutterstock -
                                        MediaServices Project Providers</span
                                      ><span class="detailEl"> | </span
                                      ><span class="detailEl">10/02/2025</span>
                                    </div>
                                    <div class="detailsGroup">
                                      <span class="detailEl">ID: M-618186</span
                                      ><span class="detailEl"> | </span
                                      ><span class="detailEl"
                                        >VDB: 00_Public</span
                                      >
                                    </div>
                                    <div class="detailsGroup">
                                      <span class="detailEl"
                                        >Asset validity: unlimited</span
                                      >
                                    </div>
                                  </div>
                                </td>
                                <td>
                                  <div class="rightPartCustomized">
                                    <div class="detailsGroup">
                                      <span class="detailEl">Image: jpg</span>
                                    </div>
                                    <div class="detailsGroup">
                                      <span class="detailEl"
                                        >Remarks: Adult man camper loads camping
                                        equipment into the trunk of a white car,
                                        surrounded by lush green scenery on a
                                        dirt road, ready for an outdoor
                                        adventure</span
                                      >
                                    </div>
                                    <div class="detailsGroup">
                                      <div class="detailsGroup">
                                        <div class="leftLong">
                                          License type:
                                        </div>
                                        <div class="rightLong">Stock-Asset</div>
                                      </div>
                                      <div class="detailsGroup">
                                        <div class="leftLong">License:</div>
                                        <div class="rightLong">
                                          1. Unlimited Digital and Print
                                        </div>
                                      </div>
                                      <div class="detailsGroup">
                                        <div class="leftLong">
                                          Other restrictions:
                                        </div>
                                        <div class="rightLong">
                                          This stock asset may be used worldwide
                                          for all ZF communication in
                                          perpetuity. It must not be
                                          redistributed or sublicensed to third
                                          parties. External service providers
                                          (e.g. agencies) may receive the
                                          material for use in ZF-related
                                          projects only. All final ZF
                                          communication media and creative work
                                          including this material (campaigns,
                                          documents, layouts, presentations,
                                          print and advertising products, etc.)
                                          are ready for unlimited distribution
                                          worldwide in all media including
                                          Social Media.
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                        <div class="cleaner"></div>

                        <a
                          onclick="bm6Menu.show(this, 'contextMenu_licensed_618186')"
                          class="icon contextMenuButton"
                          id="textIcon_618186"
                          href="javascript:void(0);"
                        ></a>
                      </div>
                    </div>

                    <div class="simpleForm objectDetailedViewFooter">
                      <span
                        class="checkbox checked"
                        id="licenseAgree_618186_0_CheckBox_Span"
                      ></span
                      ><input
                        id="licenseAgree_618186_0"
                        value="618186_0"
                        type="checkbox"
                        class="checkbox styled licenseFragmentItemCheckboxSelector"
                        onclick="LicensedMediasManager.licenseCheckboxClicked(618186, 0); return true;"
                      />
                      <label for="licenseAgree_618186_0"
                        >I have read the licensing terms and will follow them
                        (requirement for using the asset.)</label
                      >
                    </div>

                    <a
                      class="actionButton floatRight"
                      onclick="LicensedMediasManager.applyForLicenseExtension(618186,0)"
                      href="#blank"
                      >Apply for license extension</a
                    >

                    <div class="cleaner"></div>
                  </div>

                  <div
                    id="contextMenu_licensed_618186"
                    class="contextMenu2OneCol"
                  >
                    <div class="CMSection" style="display: block">
                      <h3>Details</h3>
                      <div class="cmLeftColumn">
                        <a
                          href="#blank"
                          onclick="LicensedMediasManager.removeMedia(618186, 0)"
                          class="contextMenuItem"
                          style="display: block"
                        >
                          <img
                            class="iconDelete2"
                            src="/extjs/images/gray/s.gif"
                            border="0"
                          />
                          <table class="linkText">
                            <tbody>
                              <tr>
                                <td>Remove</td>
                              </tr>
                            </tbody>
                          </table>
                        </a>

                        <a
                          href="#blank"
                          onclick="LicensedMediasManager.openMediaDetailsPopup(618186, 0)"
                          class="contextMenuItem openMediaDetailsButtonSelector"
                          style="display: block"
                        >
                          <img
                            class="iconOpen"
                            src="/extjs/images/gray/s.gif"
                            border="0"
                          />
                          <table class="linkText">
                            <tbody>
                              <tr>
                                <td>Open</td>
                              </tr>
                            </tbody>
                          </table>
                        </a>

                        <a
                          href="#blank"
                          onclick="LicensedMediasManager.openMediaEditBeforeDownloadPopup(618186, 0)"
                          class="contextMenuItem openEditMediaButtonSelector hiddenElement"
                          style="display: block"
                        >
                          <img
                            class="iconEdit2"
                            src="/extjs/images/gray/s.gif"
                            border="0"
                          />
                          <table class="linkText">
                            <tbody>
                              <tr>
                                <td>Edit</td>
                              </tr>
                            </tbody>
                          </table>
                        </a>
                        <a
                          id="linkStartTranscoding_618186_0"
                          href="#blank"
                          onclick="DownloadSelection.addVideoTranscodingProfileToQueue(618186, 0)"
                          class="contextMenuItem openEditMediaButtonSelector"
                          style="display: none"
                        >
                          <img
                            class="iconAddTranscoding"
                            src="/extjs/images/gray/s.gif"
                            border="0"
                          />
                          <table class="linkText">
                            <tbody>
                              <tr>
                                <td>Add to video transcoding</td>
                              </tr>
                            </tbody>
                          </table>
                        </a>

                        <a
                          id="linkAddTranscodingNotify_618186_0"
                          href="#blank"
                          onclick="DownloadSelection.addTranscodingWatcher(618186, 0)"
                          class="contextMenuItem openEditMediaButtonSelector"
                          style="display: none"
                        >
                          <img
                            class="iconNotifyTransocoding"
                            src="/extjs/images/gray/s.gif"
                            border="0"
                          />
                          <table class="linkText">
                            <tbody>
                              <tr>
                                <td>Notify after transcoding</td>
                              </tr>
                            </tbody>
                          </table>
                        </a>

                        <a
                          id="linkRemoveTranscodingNotify_618186_0"
                          href="#blank"
                          onclick="DownloadSelection.removeTranscodingWatcher(618186, 0)"
                          class="contextMenuItem openEditMediaButtonSelector"
                          style="display: none"
                        >
                          <img
                            class="iconNoNotifyTransocoding"
                            src="/extjs/images/gray/s.gif"
                            border="0"
                          />
                          <table class="linkText">
                            <tbody>
                              <tr>
                                <td>Remove notification</td>
                              </tr>
                            </tbody>
                          </table>
                        </a>
                      </div>
                    </div>
                    <div class="closeButton"></div>
                  </div>
                </div>

                <div class="cleaner"></div>
              </div>
            </div>

            <script>
              var LicensedMediasManager = new BaseDownloadSectionManager({
                fragmentHolderId: "licenseFragment",
                mediaObjectsWithLicenseAgreed: function () {
                  var _licenseAgreedMedias = [];

                  _licenseAgreedMedias.push(618187);

                  _licenseAgreedMedias.push(618185);

                  _licenseAgreedMedias.push(618186);

                  return _licenseAgreedMedias;
                },
                mediaObjectsInSection: new (function () {
                  var _mediaObjectsInSection = [];

                  var _mediaObjectInSection = {
                    mediaGUID: 618187,
                    mediaVersion: 0,
                    mediaTitle: "STOCK 2169656369.jpg",
                    isActive: false,
                    isDisabled: false,
                    schemesToAllowEditingFlag: [],
                  };

                  _mediaObjectInSection.schemesToAllowEditingFlag.push({
                    schemeId: 5,
                    isEditingAllowed: false,
                  });

                  _mediaObjectInSection.schemesToAllowEditingFlag.push({
                    schemeId: 53,
                    isEditingAllowed: true,
                  });

                  _mediaObjectInSection.schemesToAllowEditingFlag.push({
                    schemeId: 54,
                    isEditingAllowed: true,
                  });

                  _mediaObjectInSection.schemesToAllowEditingFlag.push({
                    schemeId: 55,
                    isEditingAllowed: true,
                  });

                  _mediaObjectInSection.schemesToAllowEditingFlag.push({
                    schemeId: 56,
                    isEditingAllowed: true,
                  });

                  _mediaObjectInSection.schemesToAllowEditingFlag.push({
                    schemeId: 57,
                    isEditingAllowed: true,
                  });

                  _mediaObjectInSection.schemesToAllowEditingFlag.push({
                    schemeId: 1465,
                    isEditingAllowed: false,
                  });

                  _mediaObjectInSection.schemesToAllowEditingFlag.push({
                    schemeId: 1665,
                    isEditingAllowed: false,
                  });

                  _mediaObjectsInSection.push(_mediaObjectInSection);

                  var _mediaObjectInSection = {
                    mediaGUID: 618185,
                    mediaVersion: 0,
                    mediaTitle: "STOCK 2586550015.jpg",
                    isActive: false,
                    isDisabled: false,
                    schemesToAllowEditingFlag: [],
                  };

                  _mediaObjectInSection.schemesToAllowEditingFlag.push({
                    schemeId: 5,
                    isEditingAllowed: false,
                  });

                  _mediaObjectInSection.schemesToAllowEditingFlag.push({
                    schemeId: 53,
                    isEditingAllowed: true,
                  });

                  _mediaObjectInSection.schemesToAllowEditingFlag.push({
                    schemeId: 54,
                    isEditingAllowed: true,
                  });

                  _mediaObjectInSection.schemesToAllowEditingFlag.push({
                    schemeId: 55,
                    isEditingAllowed: true,
                  });

                  _mediaObjectInSection.schemesToAllowEditingFlag.push({
                    schemeId: 56,
                    isEditingAllowed: true,
                  });

                  _mediaObjectInSection.schemesToAllowEditingFlag.push({
                    schemeId: 57,
                    isEditingAllowed: true,
                  });

                  _mediaObjectInSection.schemesToAllowEditingFlag.push({
                    schemeId: 1465,
                    isEditingAllowed: false,
                  });

                  _mediaObjectInSection.schemesToAllowEditingFlag.push({
                    schemeId: 1665,
                    isEditingAllowed: false,
                  });

                  _mediaObjectsInSection.push(_mediaObjectInSection);

                  var _mediaObjectInSection = {
                    mediaGUID: 618186,
                    mediaVersion: 0,
                    mediaTitle: "STOCK 2525402267.jpg",
                    isActive: false,
                    isDisabled: false,
                    schemesToAllowEditingFlag: [],
                  };

                  _mediaObjectInSection.schemesToAllowEditingFlag.push({
                    schemeId: 5,
                    isEditingAllowed: false,
                  });

                  _mediaObjectInSection.schemesToAllowEditingFlag.push({
                    schemeId: 53,
                    isEditingAllowed: true,
                  });

                  _mediaObjectInSection.schemesToAllowEditingFlag.push({
                    schemeId: 54,
                    isEditingAllowed: true,
                  });

                  _mediaObjectInSection.schemesToAllowEditingFlag.push({
                    schemeId: 55,
                    isEditingAllowed: true,
                  });

                  _mediaObjectInSection.schemesToAllowEditingFlag.push({
                    schemeId: 56,
                    isEditingAllowed: true,
                  });

                  _mediaObjectInSection.schemesToAllowEditingFlag.push({
                    schemeId: 57,
                    isEditingAllowed: true,
                  });

                  _mediaObjectInSection.schemesToAllowEditingFlag.push({
                    schemeId: 1465,
                    isEditingAllowed: false,
                  });

                  _mediaObjectInSection.schemesToAllowEditingFlag.push({
                    schemeId: 1665,
                    isEditingAllowed: false,
                  });

                  _mediaObjectsInSection.push(_mediaObjectInSection);

                  return _mediaObjectsInSection;
                })(),
                applyForLicenseExtension: function (mediaGUID, mediaVersion) {
                  showLicenseRequestWindow(mediaGUID);
                },

                /* all media are rendered with onclick events ...*/
                disableMediaDetailsPopupLink: function (media) {
                  var thumbnailElId = "imageHolder_" + media.mediaGUID;

                  Ext.fly(thumbnailElId).dom.onclick = "";
                  Ext.fly(thumbnailElId).addClass("disabledPreview");

                  var titleElId = "objectTitle_" + media.mediaGUID;
                  Ext.fly(titleElId).select(".title").first().dom.innerHTML =
                    Ext.fly(titleElId)
                      .select(".popupLink")
                      .first().dom.innerHTML;

                  var contextMenuElId =
                    "contextMenu_licensed_" + media.mediaGUID;
                  Ext.fly(contextMenuElId)
                    .select(".openMediaDetailsButtonSelector")
                    .first()
                    .addClass("hiddenElement");
                },

                activateMediaObject: function (media, isActive) {
                  media.isActive = isActive;

                  var fragmentElId =
                    this.fragmentHolderId +
                    "Item_" +
                    media.mediaGUID +
                    "_" +
                    media.mediaVersion;

                  var contextMenuElId =
                    "contextMenu_licensed_" + media.mediaGUID;

                  if (isActive) {
                    Ext.fly(fragmentElId)
                      .select(".objectDetailedViewWithFooter")
                      .first()
                      .removeClass("disabledMedia");

                    if (media.mediaIsEditable) {
                      Ext.fly(contextMenuElId)
                        .select(".openEditMediaButtonSelector")
                        .first()
                        .removeClass("hiddenElement");
                    } else {
                      Ext.fly(contextMenuElId)
                        .select(".openEditMediaButtonSelector")
                        .first()
                        .addClass("hiddenElement");
                    }
                  } else {
                    Ext.fly(contextMenuElId)
                      .select(".openEditMediaButtonSelector")
                      .first()
                      .addClass("hiddenElement");

                    Ext.fly(fragmentElId)
                      .select(".objectDetailedViewWithFooter")
                      .first()
                      .addClass("disabledMedia");
                  }

                  for (
                    var j = 0;
                    j < this.mediaActivatedCallbacks.length;
                    j++
                  ) {
                    this.mediaActivatedCallbacks[j](media);
                  }
                },

                activateMediaObjects: function (supportedMediaObjects) {
                  for (var i = 0; i < this.mediaObjectsInSection.length; i++) {
                    var mediaObject = this.mediaObjectsInSection[i];
                    var mediaGUID = mediaObject.mediaGUID;
                    var mediaVersion = mediaObject.mediaVersion;

                    var media =
                      supportedMediaObjects.findMediaObject(mediaGUID);
                    var mediaShouldBeDisabled = media == null;

                    mediaObject.mediaIsEditable =
                      media == null ? false : media.mediaIsEditable;
                    mediaObject.mediaTargetResolution =
                      media == null ? null : media.mediaTargetResolution;
                    mediaObject.mediaPreview =
                      media == null ? null : media.mediaPreview;

                    var checkboxId =
                      "licenseAgree_" + mediaGUID + "_" + mediaVersion;
                    var checkboxEl = document.getElementById(checkboxId);

                    checkboxEl.disabled = mediaShouldBeDisabled;

                    CustomFormElements.refreshEl(checkboxEl);

                    mediaObject.isDisabled = mediaShouldBeDisabled;

                    var mediaIsActivated = media != null && checkboxEl.checked;

                    this.activateMediaObject(mediaObject, mediaIsActivated);
                  }
                },

                licenseCheckboxClicked: function (mediaGUID, mediaVersion) {
                  var mediaObject = this.getMediaFromSection(mediaGUID);

                  if (mediaObject != null) {
                    var licenseAgreeCheckBoxId =
                      "licenseAgree_" + mediaGUID + "_" + mediaVersion;
                    var licenseAgreeCheckbox = document.getElementById(
                      licenseAgreeCheckBoxId
                    );
                    var licenseAgreed = licenseAgreeCheckbox.checked;

                    this.activateMediaObject(mediaObject, licenseAgreed);
                  }
                },

                openMediaEditBeforeDownloadPopup: function (
                  mediaGUID,
                  mediaVersion
                ) {
                  var mediaObject = this.getMediaFromSection(mediaGUID);

                  if (mediaObject != null && mediaObject.mediaIsEditable) {
                    var requestPath = "/GraphicOperationsPopup.do";
                    requestPath = requestPath + "?assetId=" + mediaGUID;
                    requestPath = requestPath + "&mediaVersion=" + mediaVersion;
                    requestPath =
                      requestPath +
                      "&resolution=" +
                      mediaObject.mediaTargetResolution;

                    if (window.parent && window.parent.openCropPopup) {
                      window.parent.openCropPopup({
                        title: Ext.BrandmakerMessageResources.getMessage(
                          "mp.image_manipulation.popup.title"
                        ),
                        url: requestPath,
                      });
                    } else {
                      popupWin({
                        src: requestPath,
                        id: "imageManipulationWindow",
                        maximized: true,
                        header: true,
                        title: Ext.BrandmakerMessageResources.getMessage(
                          "mp.image_manipulation.popup.title"
                        ),
                      });
                    }
                  }
                },
              });
            </script>

            <!-- INCLUDED IN DOWNLOAD SECTION -->

            <script>
              var MediasToDownloadManager = new BaseDownloadSectionManager({
                fragmentHolderId: "mediasToDownloadFragment",
                mediaObjectsInSection: new (function () {
                  var _mediaObjectsInSection = [];

                  return _mediaObjectsInSection;
                })(),

                activateMediaObjects: function (supportedMediaObjects) {
                  for (var i = 0; i < this.mediaObjectsInSection.length; i++) {
                    var mediaObject = this.mediaObjectsInSection[i];
                    var mediaGUID = mediaObject.mediaGUID;
                    var mediaVersion = mediaObject.mediaVersion;

                    var media =
                      supportedMediaObjects.findMediaObject(mediaGUID);
                    var mediaIsActive = media != null;

                    mediaObject.isActive = mediaIsActive;
                    mediaObject.mediaIsEditable =
                      media == null ? false : media.mediaIsEditable;
                    mediaObject.mediaTargetResolution =
                      media == null ? null : media.mediaTargetResolution;
                    mediaObject.mediaPreview =
                      media == null ? null : media.mediaPreview;

                    var fragmentElId =
                      this.fragmentHolderId +
                      "Item_" +
                      mediaGUID +
                      "_" +
                      mediaVersion;
                    var contextMenuElId =
                      "contextMenu_includedInDownload_" +
                      mediaGUID +
                      "_includedInDownload";

                    if (mediaIsActive) {
                      Ext.fly(fragmentElId)
                        .select(".objectCreativeView")
                        .first()
                        .removeClass("disabledMedia");

                      if (mediaObject.mediaIsEditable) {
                        Ext.fly(fragmentElId)
                          .select(".openEditMediaButtonSelector")
                          .first()
                          .removeClass("hiddenElement");
                      } else {
                        Ext.fly(fragmentElId)
                          .select(".openEditMediaButtonSelector")
                          .first()
                          .addClass("hiddenElement");
                      }
                    } else {
                      Ext.fly(fragmentElId)
                        .select(".objectCreativeView")
                        .first()
                        .addClass("disabledMedia");

                      Ext.fly(fragmentElId)
                        .select(".openEditMediaButtonSelector")
                        .first()
                        .addClass("hiddenElement");
                    }

                    for (
                      var j = 0;
                      j < this.mediaActivatedCallbacks.length;
                      j++
                    ) {
                      this.mediaActivatedCallbacks[j](
                        mediaObject,
                        mediaIsActive
                      );
                    }
                  }
                },

                openMediaEditBeforeDownloadPopup: function (
                  mediaGUID,
                  mediaVersion
                ) {
                  var mediaObject = this.getMediaFromSection(mediaGUID);

                  if (mediaObject != null && mediaObject.mediaIsEditable) {
                    var requestPath = "/GraphicOperationsPopup.do";
                    requestPath = requestPath + "?assetId=" + mediaGUID;
                    requestPath = requestPath + "&mediaVersion=" + mediaVersion;
                    requestPath =
                      requestPath +
                      "&resolution=" +
                      mediaObject.mediaTargetResolution;

                    if (window.parent && window.parent.openCropPopup) {
                      window.parent.openCropPopup({
                        title: Ext.BrandmakerMessageResources.getMessage(
                          "mp.image_manipulation.popup.title"
                        ),
                        url: requestPath,
                      });
                    } else {
                      popupWin({
                        src: requestPath,
                        id: "imageManipulationWindow",
                        maximized: true,
                        header: true,
                        title: Ext.BrandmakerMessageResources.getMessage(
                          "mp.image_manipulation.popup.title"
                        ),
                      });
                    }
                  }
                },
              });
            </script>

            <!-- EXCLUDED FROM DOWNLOAD SECTION -->

            <style>
              .multipleItems P.multipleItemsRight {
                width: 330px;
              }
            </style>

            <script
              type="text/javascript"
              src="/dwr/interface/TranscodingService.js"
            ></script>

            <hr id="mediaExcludedFromDownloadHR" style="visibility: hidden" />

            <div
              id="mediaExcludedFromDownloadLinkHolder"
              class="expandedCategory noLeftPadding"
              style="display: none"
            >
              <a
                onclick="ExpandableCategory.toggleCategory('mediaExcludedFromDownloadLinkHolder')"
                href="javascript: void(0)"
                class="commandLink"
              >
                These files <b>won't</b> be included in your download:

                <span
                  id="mediaExcludedFromDownloadFragmentEntriesCount"
                  class="normalText"
                  >(0 Entries)</span
                >
              </a>

              <div
                id="mediaExcludedFromDownloadFragment"
                class="categoryContent empty"
              >
                <div class="fragmentEmptyItem">
                  <div id="mms_gen_ctlid_10001" class="mmsMsgBody mmsInfoSmall">
                    <table cellpadding="0" cellspacing="0" class="mmsMsgWindow">
                      <tbody>
                        <tr>
                          <td class="mmsMsgSign"><div></div></td>
                          <td
                            id="mms_gen_ctlid_10001_content"
                            class="mmsMsgText"
                          >
                            You cannot download the asset because it was
                            deleted.
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <script type="text/javascript">
                    var msgsDiv_mms_gen_ctlid_10001 = document.getElementById(
                      "mms_gen_ctlid_10001"
                    );
                    var msgsContentElement_mms_gen_ctlid_10001 =
                      document.getElementById("mms_gen_ctlid_10001_content");

                    function setNewMessageText_mms_gen_ctlid_10001(
                      msgText,
                      msgType
                    ) {
                      var textElement = document.createElement("p");
                      textElement.innerHTML = msgText;

                      if (
                        msgsContentElement_mms_gen_ctlid_10001.hasChildNodes()
                      ) {
                        msgsContentElement_mms_gen_ctlid_10001.innerHTML = "";
                      }

                      msgsContentElement_mms_gen_ctlid_10001.appendChild(
                        textElement
                      );

                      if (msgType) {
                        msgsDiv_mms_gen_ctlid_10001.className =
                          "mmsMsgBody " + msgType;
                      }

                      showMessageText_mms_gen_ctlid_10001();
                    }

                    function appendNewMessageText_mms_gen_ctlid_10001(msgText) {
                      var textElement = document.createElement("p");
                      textElement.textContent = msgText; // FF
                      textElement.innerText = msgText; // IE

                      msgsContentElement_mms_gen_ctlid_10001.appendChild(
                        textElement
                      );
                    }

                    function showMessageText_mms_gen_ctlid_10001() {
                      msgsDiv_mms_gen_ctlid_10001.style.display = "";
                    }

                    function hideMessageText_mms_gen_ctlid_10001() {
                      msgsDiv_mms_gen_ctlid_10001.style.display = "none";
                    }

                    // CAUTION - last mms-msg tag will override methods before him!
                    // for more that one error message per page user unique ids and methods with id
                    function setNewMessageText(msgText, msgType) {
                      return setNewMessageText_mms_gen_ctlid_10001(
                        msgText,
                        msgType
                      );
                    }

                    function appendNewMessageText(msgText) {
                      return appendNewMessageText_mms_gen_ctlid_10001(msgText);
                    }

                    function showMessageText() {
                      return showMessageText_mms_gen_ctlid_10001();
                    }

                    function hideMessageText() {
                      return hideMessageText_mms_gen_ctlid_10001();
                    }
                  </script>
                </div>

                <div class="fragmentFilledItem"></div>
              </div>
            </div>

            <script>
              var MediaExcludedFromDownloadManager =
                new BaseDownloadSectionManager({
                  fragmentHolderId: "mediaExcludedFromDownloadFragment",
                  mediaObjectsInSection: new (function () {
                    var _mediaObjectsInSection = [];

                    return _mediaObjectsInSection;
                  })(),
                  errorTemplate: Ext.DomHelper.createTemplate(
                    '<div id="mediaExcludedFromDownloadFragmentItem_{mediaGUID}_{mediaVersion}" class="multipleItems mediaExcludedFromDownloadFragmentItemSelector">' +
                      '<p class="multipleItemsLeft">{mediaTitle} (M-{mediaGUID}) </p><p class="multipleItemsRight">({reason})</p>' +
                      "</div>"
                  ).compile(),

                  activateMediaObject: function (media) {
                    this.removeMedia(media.mediaGUID, media.mediaVersion);

                    this.updateSectionVisibility();
                  },

                  deactivateMediaObject: function (
                    media,
                    reasonName,
                    reasonMessage
                  ) {
                    this.removeMedia(media.mediaGUID, media.mediaVersion);

                    var _media = {
                      mediaGUID: media.mediaGUID,
                      mediaVersion: media.mediaVersion,
                      reasonName: reasonName,
                      reason: reasonMessage
                        ? reasonMessage
                        : this.getReasonString(reasonName),
                      mediaTitle: media.mediaTitle,
                    };

                    this.errorTemplate.append(
                      Ext.get(this.fragmentHolderId)
                        .select(".fragmentFilledItem")
                        .first().dom,
                      _media,
                      false
                    );

                    this.mediaObjectsInSection.push(_media);

                    this.updateObjectsCountMessage();

                    this.updateSectionVisibility();
                  },

                  updateSectionVisibility: function () {
                    var noMediaObjectsInSection =
                      this.mediaObjectsInSection.length == 0;

                    var onlyNoSchemeSelectedReason = true;

                    for (
                      var i = 0;
                      i < this.mediaObjectsInSection.length;
                      i++
                    ) {
                      var mediaObject = this.mediaObjectsInSection[i];
                      if (mediaObject.reasonName != "NO_SCHEME_SELECTED") {
                        onlyNoSchemeSelectedReason = false;
                        break;
                      }
                    }

                    if (noMediaObjectsInSection || onlyNoSchemeSelectedReason) {
                      getEl(
                        "mediaExcludedFromDownloadLinkHolder"
                      ).style.display = "none";
                      getEl("mediaExcludedFromDownloadHR").style.visibility =
                        "hidden";
                    } else {
                      getEl(
                        "mediaExcludedFromDownloadLinkHolder"
                      ).style.display = "";
                      getEl("mediaExcludedFromDownloadHR").style.visibility =
                        "visible";
                    }
                  },

                  getReasonString: function (reason) {
                    var resontString = null;

                    if (reason == "NEEDS_DOWNLOAD_APPROVAL") {
                      return "You cannot download the asset because the download must be approved. You must first catch up the approval.";
                    } else if (reason == "NO_DOWNLOAD_OPTION_AVAILABLE") {
                      return "You don't have the authorization to download this file. Please contact your administrator.";
                    } else if (
                      reason == "NOT_SUPPORTED_BY_THE_SELECTED_SCHEME"
                    ) {
                      return "You cannot download the asset because no output format is defined for the input format in the used rendering scheme.";
                    } else if (reason == "NEEDS_LICENSE_AGREEMENT") {
                      return "You cannot download the asset because it is subject to licensing. You must accept the licensing terms first.";
                    } else if (reason == "NEEDS_SHOP_ORDER") {
                      return "You cannot download the asset. You must order the asset.";
                    } else if (
                      reason == "NEEDS_TRANSCODING_TASK_ALREADY_IN_QUEUE"
                    ) {
                      return "You cannot download the asset because it is still in the video transcoding queue.";
                    } else if (reason == "NEEDS_TRANSCODING") {
                      return "You cannot download the asset because the video file is not yet transcoded.";
                    } else if (reason == "NO_PLAYLIST_POSSIBLE") {
                      return "The asset cannot be added to the playlist because the selected media player does not support the format.";
                    } else if (reason == "NO_SCHEME_SELECTED") {
                      return "You must first select a rendering scheme, before you can download an asset.";
                    }

                    return resontString;
                  },
                });
            </script>

            <!-- BUTTONS SECTION -->

            <script
              type="text/javascript"
              src="/dwr/interface/ShopService.js"
            ></script>

            <script>
              BaseMediapoolDownloadAPI = function (config) {
                this.loadingMask = new Ext.LoadMask(Ext.getBody(), {
                  msg: "<span id='downloadCenterloadingMask'>Please wait...</span>",
                  changeMessage: function (message) {
                    var loadingMaskEl = document.getElementById(
                      "downloadCenterloadingMask"
                    );
                    if (loadingMaskEl) {
                      loadingMaskEl.innerHTML = message;
                    }
                  },
                });

                this.actionButtonLabel = "Download";

                this.allowActionCallbacks = [];
                this.disallowActionCallbacks = [];
                this.cancelCallbacks = [];

                this.actionAllowed = false;
                this.maskShowed = false;

                this.allowAction = function () {
                  this.actionAllowed = true;

                  this.callFunctions(this.allowActionCallbacks);
                };

                this.disallowAction = function () {
                  this.actionAllowed = false;

                  this.callFunctions(this.disallowActionCallbacks);
                };

                this.callFunctions = function (arrayWithCallbacks) {
                  for (var i = 0; i < arrayWithCallbacks.length; i++) {
                    arrayWithCallbacks[i]();
                  }
                };

                this.onActionAllow = function (callbackFunction) {
                  if (typeof callbackFunction == "function") {
                    this.allowActionCallbacks.push(callbackFunction);
                  }
                };

                this.onActionDisallow = function (callbackFunction) {
                  if (typeof callbackFunction == "function") {
                    this.disallowActionCallbacks.push(callbackFunction);
                  }
                };

                this.onCancel = function (callbackFunction) {
                  if (typeof callbackFunction == "function") {
                    this.cancelCallbacks.push(callbackFunction);
                  }
                };

                this.setAction = function (buttonText, buttonFn) {};

                this.setCancelAction = function (buttonText, buttonFn) {};

                this.validate = function () {
                  return this.actionAllowed;
                };

                this.prepareHiddenInputsForFormSubmit = function (
                  mediaObjects
                ) {
                  var hiddenInputsHolder =
                    document.getElementById("formDataHolder");

                  hiddenInputsHolder.innerHTML = "";

                  for (var i = 0; i < mediaObjects.length; i++) {
                    var mediaObject = mediaObjects[i];

                    var hidden = document.createElement("input");
                    hidden.setAttribute(
                      "name",
                      "downloadMedia(" + mediaObject.mediaGUID + ").mediaGUID"
                    );
                    hidden.setAttribute("value", mediaObject.mediaGUID);
                    hidden.setAttribute("type", "hidden");
                    hiddenInputsHolder.appendChild(hidden);

                    var hidden = document.createElement("input");
                    hidden.setAttribute(
                      "name",
                      "downloadMedia(" +
                        mediaObject.mediaGUID +
                        ").mediaVersion"
                    );
                    hidden.setAttribute("value", mediaObject.mediaVersion);
                    hidden.setAttribute("type", "hidden");
                    hiddenInputsHolder.appendChild(hidden);
                  }
                };

                this.cancel = function () {
                  this.callFunctions(this.cancelCallbacks);
                };

                this.goBack = function () {};

                this.showMask = function () {
                  this.loadingMask.show();
                  this.maskShowed = true;

                  if (typeof hideContextMenu2 == "function") {
                    hideContextMenu2();
                  }
                };

                this.hideMask = function () {
                  this.loadingMask.hide();
                  this.maskShowed = false;
                };

                // constructor
                Ext.apply(this, config);
              };
            </script>

            <div class="hiddenElement" id="formDataHolder">
              <input
                name="downloadMedia(618187).mediaGUID"
                value="618187"
                type="hidden"
              /><input
                name="downloadMedia(618187).mediaVersion"
                value="0"
                type="hidden"
              /><input
                name="downloadMedia(618185).mediaGUID"
                value="618185"
                type="hidden"
              /><input
                name="downloadMedia(618185).mediaVersion"
                value="0"
                type="hidden"
              /><input
                name="downloadMedia(618186).mediaGUID"
                value="618186"
                type="hidden"
              /><input
                name="downloadMedia(618186).mediaVersion"
                value="0"
                type="hidden"
              />
            </div>
            <iframe
              class="hiddenIFrame"
              id="actionIframe"
              name="actionIframe"
              src="about:blank"
            ></iframe>

            <script
              type="text/javascript"
              language="JavaScript"
              src="/js/CustomFormElements.js"
            ></script>
          </form>

          <script>
            //function contains(arr, findValue) {
            //	var i = arr.length;
            //
            //	while (i--) {
            //		if (arr[i] === findValue) return true;
            //	}
            //	return false;
            //}

            function setGraphicOperations(assetId, ops) {
              var graphicOperation;
              ops = ops.replace('^"|"$', "'");

              if (
                document.getElementsByName(
                  "graphicOperationJson(" + assetId + ")"
                )[0]
              ) {
                graphicOperation = document.getElementsByName(
                  "graphicOperationJson(" + assetId + ")"
                )[0];
                graphicOperation.setAttribute("value", ops);
              } else {
                graphicOperation = createHiddenInput(
                  "graphicOperationJson(" + assetId + ")",
                  ops
                );
              }

              document
                .getElementsByName("MediapoolDownloadMultipleMediaForm")[0]
                .appendChild(graphicOperation);
            }

            var MediapoolDownloadAPI = new BaseMediapoolDownloadAPI({
              download: function () {
                if (this.validate()) {
                  var activeMediaObjects =
                    DownloadSelection.getActiveMediaObjects();
                  var activeMediaObjectsSize =
                    activeMediaObjects.mediaObjects.length;

                  this.prepareHiddenInputsForFormSubmit(
                    activeMediaObjects.mediaObjects
                  );

                  var loadingOp = new LoadingOperation({
                    operationId: "e45211fb-3e68-4690-817b-f418d2ae5d5b",
                    onOperationError: function (
                      loadingOp,
                      loadingOpProperties
                    ) {
                      MediapoolDownloadAPI.allowAction();
                      MediapoolDownloadAPI.hideMask();

                      if (
                        loadingOpProperties != null &&
                        loadingOpProperties["errors"] &&
                        loadingOpProperties["errors"].length
                      ) {
                        mmsAlert(loadingOpProperties["errors"]);
                      } else {
                        mmsAlert(
                          "An error has occurred while downloading the asset(s)."
                        );
                      }
                    },
                    onOperationFinish: function (
                      loadingOp,
                      loadingOpProperties
                    ) {
                      MediapoolDownloadAPI.loadingMask.changeMessage(
                        "Please wait..."
                      );
                      MediapoolDownloadAPI.downloadGeneratedFile();
                    },
                    onOperationProgressChange: function (
                      loadingOp,
                      loadingOpProperties
                    ) {
                      if (
                        loadingOpProperties != null &&
                        loadingOpProperties["progress"] &&
                        loadingOpProperties["progress"] != ""
                      ) {
                        if (
                          loadingOpProperties["progress"].indexOf("/") != -1
                        ) {
                          var iteration =
                            loadingOpProperties["progress"].split("/")[0];
                          var totalCount =
                            loadingOpProperties["progress"].split("/")[1];

                          var message =
                            "Preparing your archive...&nbsp;&nbsp;&nbsp;";
                          message += "Edit asset ITERATION of TOTALCOUNT."
                            .replace(/ITERATION/, iteration)
                            .replace(/TOTALCOUNT/, totalCount);

                          MediapoolDownloadAPI.loadingMask.changeMessage(
                            message
                          );
                        }
                      }
                    },
                  });

                  var downloadForm = document.getElementById(
                    "MediapoolDownloadForm"
                  );
                  downloadForm.target = "actionIframe";
                  downloadForm.downloadSchemeId.value =
                    DownloadSelection.selectedSchemeId;
                  downloadForm.action.value = "start_download";
                  downloadForm.submit();

                  loadingOp.start();

                  MediapoolDownloadAPI.disallowAction();
                  MediapoolDownloadAPI.showMask();
                  MediapoolDownloadAPI.loadingMask.changeMessage(
                    "Preparing your archive..."
                  );
                }
              },

              downloadGeneratedFile: function () {
                var downloadForm = document.getElementById(
                  "MediapoolDownloadForm"
                );

                var loadingOp = new LoadingOperation({
                  operationId: downloadForm.operationKey.value,
                  onOperationError: function (loadingOp, loadingOpProperties) {
                    MediapoolDownloadAPI.allowAction();
                    MediapoolDownloadAPI.hideMask();

                    if (
                      loadingOpProperties != null &&
                      loadingOpProperties["errors"] &&
                      loadingOpProperties["errors"].length
                    ) {
                      mmsAlert(loadingOpProperties["errors"]);
                    } else {
                      mmsAlert(
                        "An error has occurred while downloading the asset(s)."
                      );
                    }
                  },
                  onOperationFinish: function (loadingOp, loadingOpProperties) {
                    MediapoolDownloadAPI.allowAction();
                    MediapoolDownloadAPI.hideMask();
                  },
                });

                downloadForm.target = "actionIframe";
                downloadForm.action.value = "download";
                downloadForm.submit();

                loadingOp.start();
                MediapoolDownloadAPI.disallowAction();
              },

              init: function () {
                if (typeof DownloadSelection != "undefined") {
                  DownloadSelection.init();
                }
              },
            });

            Ext.onReady(function () {
              MediapoolDownloadAPI.init();
            });
          </script>

          <!-- SHOP SECTION -->

          <script
            type="text/javascript"
            src="/dwr/interface/ShopService.js"
          ></script>
        </div>

        <div
          id="ext-comp-1001"
          class="x-tip"
          style="
            position: absolute;
            z-index: 20000;
            visibility: hidden;
            display: none;
          "
        >
          <div class="x-tip-tl">
            <div class="x-tip-tr">
              <div class="x-tip-tc">
                <div class="x-tip-header x-unselectable" id="ext-gen4">
                  <span class="x-tip-header-text"></span>
                </div>
              </div>
            </div>
          </div>
          <div class="x-tip-bwrap" id="ext-gen5">
            <div class="x-tip-ml">
              <div class="x-tip-mr">
                <div class="x-tip-mc">
                  <div
                    class="x-tip-body"
                    id="ext-gen6"
                    style="height: auto"
                  ></div>
                </div>
              </div>
            </div>
            <div class="x-tip-bl x-panel-nofooter">
              <div class="x-tip-br"><div class="x-tip-bc"></div></div>
            </div>
          </div>
          <div
            class="x-tip-anchor x-tip-anchor-top"
            id="ext-gen7"
            style="z-index: 20001"
          ></div>
        </div>
      </body></html
  ></iframe>
</div>
<div class="MP--MuiDialogActions-root MP--MP-16504 MP--MuiDialogActions-spacing"><button class="MP--MuiButtonBase-root MP--MuiButton-root MP--MuiButton-contained MP--MP-16485" tabindex="0" type="button" data-test-id="button_modal-Cancel"><span class="MP--MuiButton-label">Cancel</span><span class="MP--MuiTouchRipple-root"></span></button><button class="MP--MuiButtonBase-root MP--MuiButton-root MP--MuiButton-contained MP--MP-16485" tabindex="0" type="button" data-test-id="button_modal-Download"><span class="MP--MuiButton-label">Download</span><span class="MP--MuiTouchRipple-root"></span></button></div>